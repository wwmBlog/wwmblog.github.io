define("src/definition.js",[],function(){$("body").on("click","dfn",function(){var a=$(this),b=a.attr("title"),c=a.attr("data-def"),d=a.parent().parent(),e=c?a.wrapper.find(c):null;e&&0!=e.length||(e=d.children(".definition")),0==e.length&&(e=$('<div class="definition hidden"></div>').appendTo(d));var f=e.children().html();f!=b?e.removeClass("hidden").html("<span class='def-span'>"+b+"</span>").css("height",f==b?0:e.children().height()):e.html("<span class='def-span'>"+b+"<b></b></span>").css("height",0).addClass("hidden")})}),define("data/skill.js",[],{labels:["C++","创造力","Python","Tooling","问题解决","Flash","基本专业技能","Obj-C","Web","Happy Hacking"],shortLabels:["C++","创造力","Python","Tooling","问题解决","Flash","专业基础","Obj-C","Web","Hacking"],datasets:[{fill:"#e05146",fillOpacity:.4,stroke:"#e05146",strokeWidth:1,data:[null,{v:3,desc:"一般水平。虽然无法成为Creative Director，但还是能作为日常工作的buff。"},null,null,{v:3,desc:"我们能记忆的解决方案总是有限的。关键是知道解决拓展问题的方法。特别是有Search Engine的这个年代。"},null,{v:4,desc:"我不是大学量产的码农。我有足够的专业知识解决90%日常问题。"},null,null,{v:4,desc:"Hack everything that you want to improve."}]},{fill:"#0084ff",fillOpacity:.3,stroke:"#0084ff",strokeWidth:1,data:[{v:4,desc:"经验值为1.5年。用过Qt做过桌面应用和用Win32 API做过一个界面库。没有接触过微软的MFC。"},null,{v:1,desc:"学Python的动机一半是为了打发时间。最大的成果是写了个SublimeText的插件。"},{v:3,desc:"合适的工具来完成工作能有效提高工作效率。例如我使用SCSS来管理CSS。"},null,{v:4,desc:"虽然Flash是上一代技术，但是有时候仍能派上用场。而且往往重要的并非技术本身，而是这个技术带给我们的它自身以外的思考。"},null,{v:3,desc:"写过一些Obj-C的项目。它让我对编写面向用户的应用有了更深的了解。"},{v:4,desc:"是很有趣的平台。现在我是一个Full-Time Web开发者 (2012至今)。"},null]}]}),define("src/misc.js",[],function(a,b,c){var d=c.exports={transitionEnd:"",animationEnd:"",threed:!1,transition:!1},e=null,f=250;$(window).on("resize",function(){function a(){$(window).trigger("debouncedResize")}e?clearTimeout(e):a(),e=setTimeout(a,f)});var g=[];$.fn.watchAutoResize=function(){return void 0==this.data("_ar_width")?(this.data("_ar_width",this.width()).data("_ar_height",this.height()),g.push(this),1==g.length&&$(window).on("debouncedResize",function(){for(var a=0;a<g.length;++a){var b=g[a],c=b.width(),d=b.height();(c!=b.data("_ar_width")||d!=b.data("_ar_height"))&&b.data("_ar_width",c).data("_ar_height",d).trigger("autoresize")}}),this):void 0},$.fn.transform=function(a){var b=arguments.callee;b.vendors||(b.vendors=["webkitTransform","MozTransform","msTransform","OTransform","transform"]);var c=b.vendors,d=this[0].style;if(c.length)for(var e=0;e<c.length;++e)if(d.hasOwnProperty(c[e])){b.vendors=c[e];break}return a&&(d[b.vendors]=a),this},d.transformCSS=function(a){var b=arguments.callee;if(!b.prefix){for(var c=["webkitTransform","MozTransform","msTransform","OTransform","transform"],d=["-webkit-transform","-moz-transform","-ms-transform","-o-transform","transform"],e=$("body")[0].style,f=0;f<c.length;++f)e.hasOwnProperty(c[f])&&(b.prefix=d[f]);b.prefix||(b.prefix="transform")}return b.prefix+":"+a+";"},function(){var a="none",b=document.createElement("div"),c={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};document.body.insertBefore(b,document.body.lastChild);for(var e in c)void 0!==b.style[e]&&(b.style[e]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",a=window.getComputedStyle(b).getPropertyValue(c[e]));void 0!==a&&(a="none"!==a),d.threed=a;var f,g=["","O","Webkit","Moz"];for(f in g)if(void 0!==b.style[g[f]+"Transition"]){d.transition=!0;break}d.transition=d.transition||void 0!=b.style.transition,document.body.removeChild(b);var h=" transitionEnd transitionend",i=" animationEnd animationend";$.browser.firefox?(h="mozTransitionEnd"+h,i="mozAnimationEnd"+i):window.opera?(h="oTransitionEnd otransitionend"+h,i="oAnimationEnd oanimationend"+i):(h="webkitTransitionEnd"+h,i="webkitAnimationEnd"+i),d.transitionEnd=h,d.animationEnd=i}(),function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){var a={linear:function(a){return a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)}};$.easing=function(b,c){return a[c](b)},$.genericAnimate=function(b,c,d,e){"function"==typeof c?(e=c,d="easeInOutCubic",c=400):"function"==typeof d&&(e=d,"string"==typeof c?(d=c,c=400):d="easeInOutCubic");var f=Date.now(),g=function(){var h=Date.now(),i=h-f,j=a[d](i/c);i>=c&&j>1&&(j=1),e(b*j,j),c>i&&requestAnimationFrame(g)};requestAnimationFrame(g)}}(),d.insertCSS=function(a,b){b||(b=a,a=null);var c=!0;return a?c="style"==a.attr("tagName").toLowerCase():a=$("<style type='text/css' />").appendTo("head"),a.html(c?b:"&shy;<style>"+b+"</style>")}}),define("src/skill/sk-graph.js",["src/misc.js"],function(a,b,c){function d(a,b){this.data=a,this.canvas=b,this.effect={fill:a.fill||"#000","fill-opacity":a.fillOpacity||1,stroke:a.stroke||"#000","stroke-width":a.strokeWidth||1},this.polygon=null,this.polygonMask=null,this.group=null,this.dots=[],this.dotData=[]}function e(a){if(this.polygon){if(!a)return;this.polygonMask.remove(),this.group.remove()}this.dots=[];for(var b=this.canvas,c=b.group(),d=this.data.data,e=0;e<d.length;++e)if(null!=d[e]){var f=b.circle(0,0).center(0,0).data("idx",e);this.dots.push(f),c.add(f)}this.polygonMask=b.clip(),this.polygon=b.polygon().clipWith(this.polygonMask).attr("pointer-events","none"),this.group=c.add(this.polygon),this.canvas.moveToCenter(this.group)}function f(){this.init(!0);for(var a=[],b=this.canvas,c=this.data.data,d=[],e=0,f=0;e<c.length;++e)if(null!=c[e]){var g=b.vertexPosition(e,c[e].v);a.push(g),d.push(g.x+","+g.y),this.dots[f].attr({rx:this.vertexSize,ry:this.vertexSize}).center(g.x,g.y).fill(this.data.stroke||"#000"),++f}return this.polygon.attr("points",d.join(" ")).attr(this.effect),this.updateMask(a),this}function g(){this.init(),this.dotData=[],this.polygon.attr(this.effect);for(var a=this.data.data,b=0,c=0;b<a.length;++b)if(null!=a[b]){this.dots[c].attr({rx:this.vertexSize,ry:this.vertexSize}).fill(this.data.stroke||"#000");var d=this.canvas.vertexPosition(b,a[b].v);this.dotData[c]={toX:d.x,toY:d.y,toDis:Math.sqrt(d.x*d.x+d.y*d.y)},++c}var e=1500,f=this.canvas.vertexPosition(0),g=Math.sqrt(f.x*f.x+f.y*f.y),h=this;return $.genericAnimate(g,e,function(a){for(var b=h.dots,c=new Array(b.length),d=new Array(b.length),e=0;e<b.length;++e){var f=b[e],g=h.dotData[e],i=a/g.toDis;i>1&&(i=1);var j=g.toX*i,k=g.toY*i;f.center(j,k),c[e]={x:j,y:k},d[e]=j+","+k}h.updateMask(c),h.polygon.attr("points",d.join(" "))}),this}function h(a){var b=this.polygonMask.children()[0];void 0==b&&(b=this.canvas.path().attr("clip-rule","evenodd"),this.polygonMask.add(b));for(var c=999999999,d=999999999,e=-99999999,f=-99999999,g="",h=this.maskDotSize,i=0;i<a.length;++i){var j=a[i];g+=[" M",j.x,j.y,"m",-h,0,"a",h,h,"0 1 0",2*h,0,"a",h,h,"0 1 0",2*-h,0,"z"].join(" "),j.x<c&&(c=j.x),j.x>e&&(e=j.x),j.y<d&&(d=j.y),j.y>f&&(f=j.y)}g=["M",c-h,d-h,"L",e+h,d-h,e+h,f+h,c-h,f+h,"Z"].join(" ")+g,b.attr("d",g)}function i(a){var b=a.parentNode||a.parentElement;if(b!=this.group.node)return null;var c=parseInt(a.getAttribute("data-idx"));if(!isNaN(c)){var d=$.extend({},this.data.data[c]);return d.idx=c,d}return null}c.exports=d,a("src/misc.js"),d.prototype.vertexSize=5,d.prototype.maskDotSize=7,d.prototype.draw=f,d.prototype.init=e,d.prototype.animate=g,d.prototype.updateMask=h,d.prototype.getData=i,d.prototype.getGroup=function(){return this.group}}),define("src/skill/sk-chart.js",["src/skill/sk-graph.js"],function(a,b,c){function d(a,b){var c=SVG(b);c.elementID=b,c.data=a,c.unitAngle=360/a.labels.length,c.maxValue=5,c.firstRender=!0,c.graphs=[];for(var d=a.datasets,l=0;l<d.length;++l)c.graphs.push(new n(d[l],c));return c.render=h,c.renderBG=f,c.renderGraphs=g,c.moveToCenter=i,c.vertexPosition=j,c.setup=e,c.getData=k,c.EVT_RESIZE="resize",c.setup(),c.renderBG(),c}function e(){this.CENTER=document.getElementById(this.elementID).clientWidth/2,this.RADIUS=this.CENTER-50}function f(){for(var a=this.group(),b=["#e2ddce","#d8d1be","#d1c8b1","#cac1a9","#c5bca3"],c=b.length,d=this.data.labels,e=0;c>e;++e){for(var f=[],g=d.length-1;g>=0;--g){var h=this.vertexPosition(g,c-e);f.push(h.x+","+h.y)}a.add(this.polygon(f.join(" "),!0).fill(b[e]))}var i={size:"12px",anchor:"middle",fill:"#b4ac95"},j=d.length,k=j/4,l=j/2,m=3*k;for(e=0;e<d.length;++e){var h=this.vertexPosition(e,5.2),n=this.text(d[e]).font(i),o=n.node.getBBox();l>e&&e>0?h.x+=o.width/2:0!=e&&e!=l&&(h.x-=o.width/2),m>e&&e>k?h.y+=o.height/2:e!=k&&e!=m&&(h.y-=o.height/2),n.center(h.x,h.y),a.add(n)}this.moveToCenter(a)}function g(){for(var a=0;a<this.graphs.length;++a){var b=this.graphs[a];this.firstRender?b.animate():b.draw()}}function h(a){a==this.EVT_RESIZE?(this.setup(),this.clear(),this.renderBG(),0==this.firstRender&&this.renderGraphs()):this.firstRender&&(this.renderGraphs(),this.firstRender=!1)}function i(a){a.transform({x:this.CENTER,y:this.CENTER})}function j(a,b){var c=90-this.unitAngle*a,d=void 0==b?1:b/this.maxValue,e=Math.floor(l(c)*this.RADIUS*d),f=-Math.floor(m(c)*this.RADIUS*d);return{x:e,y:f}}function k(a){for(var b=0;b<this.graphs.length;++b){var c=this.graphs[b].getData(a);if(c)return c.name=this.data.labels[c.idx],c}return null}function l(a){return Math.cos(a*Math.PI/180)}function m(a){return Math.sin(a*Math.PI/180)}c.exports=d;var n=a("src/skill/sk-graph.js")}),define("src/event.js",[],function(a,b){function c(){return this==window?new c:(this.__handlers={},this.__handlersCount=0,void 0)}c.prototype.on=function(a,b){if("string"==typeof a&&"function"==typeof b){var c=this.__handlers[a];c?c.push(b):c=[b],this.__handlersCount+=1,this.__handlers[a]=c}},c.prototype.off=function(a,b){if("string"==typeof a&&"function"==typeof b){var c=this.__handlers[a];if(c)for(var d=0;d<c.length;++d)if(c[d]==b)return c.splice(d,1),--this.__handlersCount,void 0}},c.prototype.one=function(a,b){var c=this,d=function(e){c.off(a,d),b(e)};c.on(a,d)},c.prototype.trigger=function(a,b){if("string"==typeof a){var c=this.__handlers[a];if(c)for(var d=0;d<c.length;++d)c[d](b)}},c.prototype.handlerCount=function(){return this.__handlersCount},b.EventTarget=c}),define("src/scrollwatcher.js",["src/misc.js","src/event.js"],function(a,b,c){function d(a,b){"string"==typeof b?(this.fromBottom="-"==b[0],this.offset=parseInt(b)):(this.fromBottom=0>b,this.offset=b||0),this.element=a,this.emmiter=new k,this.watchY=0,this.currAbove=void 0,this.currBelow=void 0,this.prevAbove=void 0,this.prevBelow=void 0;var c=typeof a;if("number"==c?(this.offset=a,this.element=$(document.documentElement)):"string"!=c&&a.length||(this.element=$(a)),0!=m){var d=this;setTimeout(function(){d.update()},18)}else this.update()}function e(){var a=this[0];return a==document.documentElement?a.scrollHeight:this.height()}function f(){o=q.offsetHeight,m=window.scrollTop||window.scrollY,n=m+o,p=q.scrollHeight}function g(a){a.notify()}function h(a){a.update()}function i(){f(),l.forEach(h)}function j(){f(),l.forEach(g)}c.exports=d,a("src/misc.js");var k=a("src/event.js").EventTarget,l=[];l.forEach||(l.forEach=function(a){for(var b=0;b<this.length;++b)a.apply(this[b])}),d.prototype.on=function(a,b){return 0==this.emmiter.handlerCount()&&l.push(this),this.emmiter.on(a,b),this},d.prototype.one=function(a,b){var c=this,d=function(e){c.off(a,d),b(e)};return c.on(a,d),this},d.prototype.off=function(a,b){if(this.emmiter.off(a,b),0==this.emmiter.handlerCount())for(var c=l.length-1;c>=0;--c)if(l[c]==this){l.splice(c,1);break}return this},d.prototype.trigger=function(a,b){return this.emmiter.trigger(a,b),this},d.prototype.update=function(){this.watchY=this.element.offset().top,this.watchY+=this.fromBottom?e.apply(this.element)+this.offset:this.offset,this.notify()},d.prototype.notify=function(){return this.prevAbove=this.currAbove,this.prevBelow=this.currBelow,this.watchY<m?(this.currAbove=!0,this.currBelow=!1):this.watchY>n?(this.currAbove=!1,this.currBelow=!0):(this.currAbove=!1,this.currBelow=!1),this.prevAbove!=this.currAbove&&1==this.currAbove?(this.emmiter.trigger("scrollabove"),void 0):this.prevBelow!=this.currBelow&&1==this.currBelow?(this.emmiter.trigger("scrollbelow"),void 0):(0==this.currAbove&&0==this.currBelow&&(0!=this.prevAbove||0!=this.prevBelow)&&this.emmiter.trigger("scrollinto"),void 0)};var m=0,n=0,o=0,p=0,q=document.documentElement;f(),$(window).on("scroll",function(){j()}).on("debouncedResize",i)}),define("src/tooltip.js",[],function(a,b,c){function d(a,b,c){if("function"==typeof b&&(b=b(a)),b=$.extend({},k,b),n==a)return q&&c&&(q=i(o,q,c)),void 0;n=a.length?a[0]:a;var d=o.attr("class").replace(/left|right|top|bottom/),e=!o.hasClass("shown");d=d?d[0]:"",o.attr("class","tooltip "+b.extraClass).children(".tip-content").html("function"==typeof b.content?b.content(a):b.content);var f=j(o,a,b,c);q=f,e&&(e=!(d&&d!=f.g)),o.addClass(f.g+(e?"":" no-animate")).children(".arrow").css({left:f.aL,top:f.aT}),o[0].offsetHeight,o.removeClass("no-animate").toggleClass("shown",!0)}function e(a,b){(n==a||b)&&(o.removeClass("shown"),n=null)}function f(){function a(){e(null,!0),f.__bindNextHide=!1}var b=p?"touchend":"click";f.__bindNextHide||(f.__bindNextHide=!0,$("body").one(b,a))}function g(){return n}function h(a,b,c){p?$(a).on("touchend",a,function(a){return n!=a.target&&(d(a.target,b),f()),!1}):($("body").on("mouseenter",a,function(a){return d(a.target,b),!1}).on("mouseleave",a,function(a){return e(a.target),!1}),c&&$("body").on("mousemove",a,function(a){return d(a.target,b,{x:a.pageX,y:a.pageY}),!1}))}function i(a,b,c){var d,e;return"left"==b.g||"right"==b.g?(d=c.x-b.baseline,e=c.y-b.baselineAlt,b.baseline=c.x,b.baselineAlt=c.y):(e=c.y-b.baseline,d=c.x-b.baselineAlt,b.baseline=c.y,b.baselineAlt=c.x),d+=parseInt(a.css("left")),e+=parseInt(a.css("top")),a.css({left:d,top:e}),b}function j(a,b,c,d){var e,f,g,h,i=d?{left:d.x,top:d.y,width:0,height:0}:$(b).offset(),j=a.offset(),k=document.documentElement,n=k.clientWidth,o=k.clientHeight,p=k.scrollWidth,q=k.scrollHeight,r=window.scrollLeft||window.scrollX,s=window.scrollTop||window.scrollY,t={x:0,y:0},u={g:"left",aL:void 0,aT:void 0};return("left"==c.side||"right"==c.side)&&(e=Math.round(i.left+i.width/2),f=Math.round(i.top+i.height/2),g=j.width+c.margin,t.y=f-Math.floor(j.height/2),"left"==c.side?e-r>g?t.x=e-g:p-e>g?(t.x=e+c.margin,u.g="right"):e>g?t.x=e-g:c.side="top":r+n-e>g?(t.x=e+c.margin,u.g="right"):e-r>g?t.x=e-g:p-e>g?(t.x=e+c.margin,u.g="right"):c.side="top"),("bottom"==c.side||"top"==c.side)&&(e=Math.round(i.top+i.height/2),f=Math.round(i.left+i.width/2),g=j.height+c.margin,u.g="top","bottom"==c.side?s+o-e>g?(t.y=e+c.margin,u.g="bottom"):e-s>g?t.y=e-g:q-e>g?(t.y=e+c.margin,u.g="bottom"):t.y=e-g:e-s>g?t.y=e-g:q-e>g?(t.y=e+c.margin,u.g="bottom"):t.y=e-g,h=Math.round(j.width/2),p<j.width||f-r>=h&&r+n-f>=h?t.x=f-h:n>=j.width?h>f-r?(t.x=r+l,t.x+j.width>r+n&&(t.x=r+n-j.width)):(t.x=r+n-l-j.width,t.x<r&&(t.x=r)):t.x=h+l>f?l:f-h,u.aL=f-t.x-m),a.css({left:t.x,top:t.y}),u.baseline=e,u.baselineAlt=f,u}c.exports={show:d,hide:e,auto:h,hideOnClick:f,currentTarget:g};var k={content:"",side:"top",margin:25,extraClass:""},l=10,m=6,n=null,o=o=$("<div class='tooltip top'><div class='tip-content'></div><span class='arrow'></span></div>").appendTo("body"),p=!!("ontouchstart"in window),q=null}),define("src/skill/skill.js",["data/skill.js","src/skill/sk-chart.js","src/scrollwatcher.js","src/tooltip.js"],function(a){var b=a("data/skill.js"),c=a("src/skill/sk-chart.js"),d=a("src/scrollwatcher.js"),e=new c(b,"W_skillChart");$("#W_skillChart").watchAutoResize().on("autoresize",function(){e.render(e.EVT_RESIZE)});var f=new d(".logo",-1);f.one("scrollabove",function(){e.render()});var g=a("src/tooltip.js"),h={margin:15,extraClass:"skill",content:function(a){var b=e.getData(a),c="<p class='sk-tip-desc'><span class='tip-tag'>"+b.name+"</span>"+b.desc+"</p><p class='sk-tip-lv lv"+b.v+"'></p>";return c}};"ontouchstart"in window?$("#W_skillChart").on("touchend","ellipse",function(a){var b=window.scrollTop||window.scrollY,c=window.scrollLeft||window.scrollX,d=a.target.getBoundingClientRect(),e={x:Math.round(d.width/2+d.left)+c,y:Math.round(d.height/2+d.top)+b};return console.log(a),g.show(a.target,h,e),g.hideOnClick(),!1}):$("#W_skillChart").on("mouseover","ellipse",function(a){g.show(a.target,h,{x:a.pageX,y:a.pageY})}).on("mousemove","ellipse",function(a){g.show(a.target,h,{x:a.pageX,y:a.pageY})}).on("mouseout","ellipse",function(a){g.hide(a.target)})}),define("data/timeline.js",[],{current:[{y:"'03",left:"15%",icon:"",desc:"获得了一台古董电脑"},{y:"'07",left:"35%",icon:"",desc:"用Flash做了一个网站"},{y:"'08",left:"45%",icon:"",desc:"赚了第一笔钱"},{y:"'08",left:"50%",icon:"",desc:"上大学，orz",alpha:!0,beta:!0},{y:"'10",left:"60%",icon:"",desc:"开发桌面APP"},{y:"'11",left:"75%",icon:"",desc:"GUI库完成了一半"},{y:"'12",left:"85%",icon:"",desc:"转型做前端"},{y:"'12",left:"90%",icon:"",desc:"买了一台rMBP"}],alpha:[{y:"'12",left:"82%",icon:"",desc:"制作好玩的游戏"}],beta:[{y:"'10",left:"65%",icon:"",desc:"拍摄动人的电影"},{y:"'14",left:"95%",icon:"",desc:"成为新晋导演"}],start:{y:"'90",icon:"",desc:"我出生了"},end:{y:"'99",icon:"",desc:"世界继续运行"}}),define("src/timeline.js",["data/timeline.js","src/tooltip.js"],function(a){function b(){return b.id?(++b.id,"tl-"+b.id):(b.id=100,b())}function c(a){var b=s.offset(),c=window.innerHeight,e=c-b.height;u=b.top-e/2,200>e&&(e=200),t=b.top-e,v=b.top+b.height+e-c,a&&(w=-2),d()}function d(){var a=window.scrollTop||window.scrollY;if(t>=a){if(-1==w)return;a=t,w=-1}else if(a>=v){if(1==w)return;a=v,w=1}else w=(a-u)/(u-t);for(var b=1;b<m.length-1;++b){var c,d=m[b],f=r[d.data("id")],g=f.midT;.05>w&&w>-.05?d.css("top",g):0>w?(c=f.minT,d.css("top",Math.floor(g+(g-c)*w))):(c=f.maxT,d.css("top",Math.floor(g+(c-g)*w)))}var h=Math.floor(s.height()/4);for(b=0;b<o.length;++b)d=o[b].css("top",h);for(h*=3,b=0;b<p.length;++b)d=p[b].css("top",h);e();var i=k.currentTarget(),j=m.concat(o,p);if(i)for(b=0;b<j.length;++b)if(i==j[b][0]){var l=j[b].offset();k.show(i,null,{x:l.left+l.width/2,y:l.top+l.height/2});break}}function e(){function a(a,b,c){var d=a.position(),e=b.position(),f=a.width()/2+2;Math.atan2(e.top-d.top,e.left-d.left),e.left-=b.width()/2+4;var g=e.top>d.top?1:-1,h=e.top>d.top?f:-f,i=4,j=d.left+Math.floor(.15*(e.left-d.left)),k=["M",d.left+g,d.top+h,"Q",j,e.top-i,e.left,e.top-i,"L",e.left,e.top+i,"Q",j,e.top+i,d.left-g,d.top+h,"Z"].join(" ");c.attr("d",k)}function b(a,b,c){var d=q[c],e=a.position(),f=b.position();d.attr({x1:e.left+a.width()/2+4,y1:e.top,x2:f.left-b.width()/2-4,y2:f.top})}for(var c=4,d=m[0],e=d.position(),j=d.width()/2+c,k=1;k<m.length;++k){d=m[k];var l=d.position(),r=n[k-1],s=Math.atan2(l.top-e.top,l.left-e.left),t=Math.cos(s),u=Math.sin(s);e.left+=Math.floor(t*j),e.top+=Math.floor(u*j),j=d.width()/2+c;var v=Math.floor(l.left-t*j),w=Math.floor(l.top-u*j);Math.pow(v-e.left,2)+Math.pow(w-e.top,2)<18?r.attr({x1:"0",y1:"0",x2:"0",y2:"0"}):r.attr({x1:e.left,y1:e.top,x2:v,y2:w}),e=l}for(a(f,o[0],h),a(g,p[0],i),k=0;k<o.length-1;++k)b(o[k],o[k+1],k);for(k=0;k<p.length-1;++k)b(p[k],p[k+1],k+o.length-1)}var f,g,h,i,j=a("data/timeline.js"),k=a("src/tooltip.js"),l=SVG("W_timeline"),m=[],n=[],o=[],p=[],q=[],r={},s=$("#W_timelineContainer");!function(){function a(a,d,e){for(var h=0;h<a.length;++h){var i=a[h],j=k,m=k;u?(j+=20,m-=40):(i.alpha||i.beta)&&(u=!0);var o=c(j,m,t),p=b(),q=$("<span class='tl-dot'></span>").appendTo(e).data("id",p).css("left",i.left);r[p]={y:i.y,desc:i.desc,maxT:o.max,minT:o.min,midT:o.mid,icn:i.icon},d.push(q),i.alpha&&(f=q),i.beta&&(g=q);var s=l.line().attr({stroke:"#b9b9b9","stroke-width":"8"});n.push(s)}var s=l.line(0,t,0,t).attr({stroke:"#cbcbcb","stroke-width":"8","stroke-dasharray":"16, 8"});n.push(s)}function c(a,b,c){var d=Math.random()*b+a,e=Math.random()*b+a;return Math.abs(d-c)<10&&(d+=c>d?-10:10),Math.abs(e-c)<10&&(e+=c>e?-10:10),(d-c)*(e-c)>0&&(d>e&&(e=c-(e-c)),e>d&&(d=c-(d-c))),{max:Math.floor(e),min:Math.floor(d),mid:Math.floor(c)}}function d(a,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=b(),h=$("<span class='tl-dot alt'></span>").appendTo(d).data("id",g).css("left",f.left);r[g]={y:f.y,desc:f.desc,icn:f.icon},c.push(h),0!=e&&q.push(l.line().attr({stroke:"#cbcbcb","stroke-width":"8"}))}}var e=s.height(),k=e/3,t=e/2,u=!1;d(j.alpha,o,s),d(j.beta,p,s),h=l.path().fill("#cbcbcb").back(),i=l.path().fill("#cbcbcb").back();var v=b(),w=$("<span class='tl-dot start'></span>").appendTo(s).data("id",v);r[v]={y:j.start.y,desc:j.start.desc,icn:j.start.icon},m.push(w),a(j.current,m,s),v=b(),w=$("<span class='tl-dot end'></span>").appendTo(s).data("id",v),r[v]={y:j.end.y,desc:j.end.desc,icn:j.end.icon},m.push(w)}();var t=0,u=0,v=0,w=-2;c(),$(window).on("debouncedResize",function(){c(!0)}).on("scroll",d),k.auto(".tl-dot",function(a){var b=$(a),c={},d=r[b.data("id")];return c.content=d.icn?"<p class='tl-icon'>"+d.icn+"</p>":"",c.content+="<p class='tl-desc'><span class='tip-tag'>"+d.y+"</span><span>"+d.desc+"</span></p>",b.hasClass("start")?c.side="right":b.hasClass("end")&&(c.side="left"),c})}),define("src/sliderpuzzle.js",["src/misc.js"],function(a){function b(a,c){var d=new Image,e=this;d.onload=function(){d.onload=null,$(".card-left").toggleClass("ready",!0).children(".loading-wrap").remove(),e.$container,e.ready=!0,e.onLoadImage(a,d.width,d.height)},d.src=a,this.ready=!1,this.imgWidth=0,this.imgHeight=0,this.imgLeft=0,this.imgTop=0,this.url=a,this.stylesheet=void 0,this.$container=c,this.emptyPos=0,b.ID+=1}var c=a("src/misc.js"),d=window.devicePixelRatio;b.ID=100,b.prototype.DPR=void 0!==d&&d>1?2:1,b.prototype.COLUMN_COUNT=4,b.prototype.TILE_COUNT=16,b.prototype.TILE_SIZE=30,b.prototype.onLoadImage=function(a,b,c){var d=this.$container.width(),e=this.$container.height();if(this.imgLeft=parseInt(this.$container.css("padding-left")),this.imgTop=parseInt(this.$container.css("padding-top")),b==d&&c==e)this.imgWidth=0;else{var f=b/d,g=c/e;f>g&&(f=g),f>1.3*this.DPR&&(f-=.15*this.DPR),this.imgWidth=b/f,this.imgHeight=c/f,this.imgLeft+=(this.imgWidth-d)/2/this.DPR,this.imgTop+=(this.imgHeight-e)/2/this.DPR}var h=this.prepareCSS();this.$container[0].className=h;for(var i="<span class='puzzle-item "+h+"' style='{#s}' data-idx='{#i}' />",j="",k=0;k<this.TILE_COUNT;++k)j+=i.replace("{#s}",this.itemStyle(k)).replace("{#i}",k);$(j).appendTo(this.$container)},b.prototype.itemPos=function(a,b){return b||(b={}),b.x=a%this.COLUMN_COUNT*this.TILE_SIZE,b.y=Math.floor(a/this.COLUMN_COUNT)*this.TILE_SIZE,b},b.prototype.itemStyle=function(a,d){var e,f="translate(Xpx,Ypx)",g=["background-position:-",0,"px -",0,"px"];return b.prototype.itemStyle=function(a,b){return e=this.itemPos(a),g[1]=e.x+this.imgLeft,g[3]=e.y+this.imgTop,void 0!==b&&b!=a&&(e.x=b%this.COLUMN_COUNT*this.TILE_SIZE,e.y=Math.floor(b/this.COLUMN_COUNT)*this.TILE_SIZE),c.transformCSS(f.replace("X",e.x).replace("Y",e.y))+g.join("")},this.itemStyle(a,d)},b.prototype.prepareCSS=function(){var a="pzli"+b.ID,d="",e="";0!=this.imgWidth&&(d="-webkit-background-size:{#bgsize} !important;-moz-background-size:{#bgsize} !important;-o-background-size:{#bgsize} !important;background-size:{#bgsize} !important;",d=d.replace(/\{#bgsize\}/g,this.imgWidth+"px auto"));var f=this.imgLeft-parseInt(this.$container.css("padding-left")),g=this.imgLeft-parseInt(this.$container.css("padding-top"));0!=f&&0!=g&&(e="background-position:-"+f+"px -"+g+"px;");var h=".{#class} { background-image:url({#url}) !important; {#bgpos} {#bgsize}}".replace("{#class}",a).replace("{#bgpos}",e).replace("{#bgsize}",d).replace("{#url}",this.url);return this.stylesheet=c.insertCSS(this.stylesheet,h),a},b.prototype.random=function(){if(this.ready){for(var a,b=this.TILE_COUNT-1,c=new Array(b),d=0,e=0;b>e;++e)d=Math.floor(Math.random()*(b-e))+e,a=c[d],c[d]=void 0===c[e]?e:c[e],c[e]=void 0===a?d:a;var f=0;for(e=0;b>e;++e){a=c[e];for(var g=e+1;b>g;++g)a>c[g]&&++f}console.log(c,f),this.emptyPos=Math.floor(Math.random()*this.COLUMN_COUNT)+this.COLUMN_COUNT*(2*Math.floor(Math.random()*this.COLUMN_COUNT/2)+(f+1)%2),c.splice(this.emptyPos,0,b),console.log(c);var h={x:0,y:0},i=this.$container.addClass("random").children(".puzzle-item");for(e=0;e<i.length;++e)this.itemPos(e,h),i.eq(c[e]).data("pos",e).transform("translate("+h.x+"px, "+h.y+"px)");var j=this;setTimeout(function(){j.$container.removeClass("random")},300)}},b.prototype.solve=function(){},b.prototype.direction=function(a,b){var c=this.COLUMN_COUNT,d=Math.floor(a/c),e=Math.floor(b/c),f=a%c,g=b%c,h={x:g-f,y:e-d};return h.adjoining=1==Math.abs(h.x)+Math.abs(h.y),h},b.prototype.slide=function(a){var b=$(a),c=b.data("pos");if(this.direction(this.emptyPos,c).adjoining){var d=this.itemPos(this.emptyPos);b.data("pos",this.emptyPos).transform("translate("+d.x+"px, "+d.y+"px)"),this.emptyPos=c}},b.prototype.checkDone=function(){for(var a=this.$container.children(".puzzle-item"),b=!0,c=a.length-2;c>=0;--c){var d=a.eq(c);if(d.data("idx")!=d.data("pos")){b=!1;break}}if(b){$(".card-left").removeClass("playing"),c=this.TILE_COUNT-1;var e=this.itemPos(c);this.$container.children(".puzzle-item").eq(c).data("pos",c).transform("translate("+e.x+"px, "+e.y+"px)")}},$(function(){var a=$("#W_puzzle"),c=window.getComputedStyle(a[0]).backgroundImage,d=/url\((["']*)(.+)\1\)$/.exec(c);if(d)if(d[2]&&(c=d[2]),c){var e=new b(c,a);$("#W_playGame").on("click",function(){return e.random(),$(".card-left").addClass("playing"),!1}),a.on("click",".puzzle-item",function(){return e.slide(this),e.checkDone(),!1})}else console.log("Something Bad Happens.")})}),define("src/contact.js",["src/tooltip.js"],function(a){function b(){var a=$(this).val();"W_email"==this.id?/[\w\d_\.\-]+@([\w\d_\-]+\.)+[\w\d]{2,4}/.test(emailVal)&&h.hide(this):"W_content"==this.id&&a.length>5&&h.hide(this)}function c(){var a=$("#W_email"),b=$("#W_content"),c=a.val(),e=b.val();return!e||e.length<6?(d(b,"请输入5个字以上有意义的内容。"),null):c&&/[\w\d_\.\-]+@([\w\d_\-]+\.)+[\w\d]{2,4}/.test(c)?{email:c,content:e}:(d(a,"请输入你的Email。"),null)}function d(a,b){null==k&&(h.show(a[0],{content:b,margin:30,extraClass:"error"}),k=setTimeout(function(){k=null},50))}function e(){j=!0,$("#W_contact").addClass("contacting")}function f(){j=!1,$("#W_contact").removeClass("contacting")}function g(a){var b=a&&"Success"==a.result?"发送成功，我会尽快回复你的。":"失败了，不如你直接发邮件给我吧：<a href='mailto:liangmorr@gmail.com'>liangmorr@gmail.com</a>";h.show($("#W_submit")[0],{content:b,margin:30,extraClass:a&&"Success"==a.result?"success":"error"}),setTimeout(function(){h.hide($("#W_submit")[0])},2e3)}var h=a("src/tooltip.js"),i="",j=!1;$("#W_email, #W_content").on("blur",function(){console.log("blur"),h.hide(this)}),$("#W_email").on("invalid",function(){return d($(this),"请输入你的Email。"),!1}).on("keyup",b),$("#W_content").on("invalid",function(){return d($(this),"请输入5个字以上有意义的内容。"),!1}).on("keyup",b),$("#W_contact").on("submit",function(){if(h.hide($("#W_submit")[0]),j)return!1;var a=c();return a?i==a.content?(d($("#W_content"),"你刚才已经发过一遍了。"),!1):(i=a.content,e(),$.ajax({url:"http://lmmail.herokuapp.com",dataType:"jsonp",type:"GET",data:a,success:g,error:g,complete:f}),!1):!1});var k=null}),define("src/print.js",["data/skill.js"],function(a){$(".personal .value.name").html("\u6881\u6587\u6D69"),$(".personal .value.age").html((new Date).getUTCFullYear()-1990),$(".personal .value.phone").html("1365"+"1302"+"717"),function(){for(var b=a("data/skill.js"),c=b.shortLabels,d=[],e="",f=b.datasets[1].data,g=0;g<f.length;++g)null!=f[g]&&d.push('<li><span class="label">'+c[g]+'</span><span class="level level'+ +f[g].v+'"></span></li>');for(f=b.datasets[0].data,g=0;g<f.length;++g)null!=f[g]&&d.push('<li class="basic"><span class="label">'+c[g]+'</span><span class="level level'+ +f[g].v+'"></span></li>');for(g=0;g<d.length;++g)0==g%5&&(0!=g&&(e+="</ul>"),e+='<ul class="skill-list">'),e+=d[g];$(e).appendTo($("#W_printSkill"))}()}),define("src/canvas/node.js",["src/misc.js"],function(a){function b(){this.states=[],this.lastStateIdx=-1,this.attrs={}}return a("src/misc.js"),b.prototype.needRedraw=function(a){if(-1==this.lastStateIdx)return!0;for(var b=-1,c=this.states.length,d=this.lastStateIdx;c>d;++d)if(s=this.states[d],s.start<=a&&(s.start+s.length>a||d==c-1)){b=d;break}for(var d=this.lastStateIdx+1;b>=d;++d)if("D"!=this.states[d].type)return!0;return"D"!=this.states[b].type},b.prototype.getCurrentAttr=function(a){var b,c=-1,d=this.states.length,e=this.lastStateIdx>=0?this.lastStateIdx:0;if(0==d)return this.attrs;for(var f=e;d>f;++f)if(b=this.states[f],b.start<=a&&(b.start+b.length>a||f==d-1)){c=f;break}var g;if(c!=this.lastStateIdx){for(g=$.extend(!0,{},this.currAttrs||this.attrs),f=e;c>f;++f)b=this.states[f],"D"!=b.type&&$.extend(!0,g,b.to);this.lastStateIdx=c,this.currAttrs=g}else g=this.currAttrs;if(b=this.states[c],"T"==b.type){g=$.extend(!0,{},g);var b=this.states[c],h=b.to,i=$.easing((a-b.start)/b.length,b.easing);for(f in h)switch(f){case"scale":g.scale=g.scale?g.scale:{x:1,y:1},g.scale.x=(h.scale.x-g.scale.x)*i+g.scale.x,g.scale.y=(h.scale.y-g.scale.y)*i+g.scale.y;break;case"translate":g.translate=g.translate?g.translate:{x:0,y:0},g.translate.x=(h.translate.x-g.translate.x)*i+g.translate.x,g.translate.y=(h.translate.y-g.translate.y)*i+g.translate.y;break;case"alpha":g.alpha=void 0!==g.alpha?g.alpha:1,g.alpha=(h.alpha-g.alpha)*i+g.alpha;break;default:g[f]=g[f]?g[f]:0,g[f]=(h[f]-g[f])*i+g[f]}}return g},b.prototype.restart=function(){this.currAttrs=this.attrs,this.lastStateIdx=-1},b.prototype.doRender=function(a,b){0===b&&this.restart();var c=this.getCurrentAttr(b);if(c.visible!==!1&&0!==c.alpha){if(a.fillStyle=c.fill||"#000000",a.strokeStyle=c.stroke||"#000000",a.lineWidth=c.lineWidth||1,a.globalAlpha=void 0!==c.alpha?c.alpha:1,c.translate&&a.translate(c.translate.x,c.translate.y),c.scale&&a.scale(c.scale.x,c.scale.y),c.rotate){var d=c.rotate*Math.PI/180;a.rotate(d)}this.render(a,c),c.rotate&&a.rotate(-d),c.scale&&a.scale(1/c.scale.x,1/c.scale.y),c.translate&&a.translate(-c.translate.x,-c.translate.y)}},b.prototype.render=function(){},b.prototype.d=function(a){var b=this.states[this.states.length-1],c={start:b?b.start+b.length:0,length:a,type:"D"};return this.states.push(c),this.duration=c.start+c.length,this},b.prototype.t=function(a,b,c){var d=this.states[this.states.length-1],e={start:d?d.start+d.length:0,length:b,type:"T",easing:c?c:"linear",to:a};return this.states.push(e),this.duration=e.start+e.length,this},b.prototype.c=function(a){var b=this.states[this.states.length-1],c={start:b?b.start+b.length:0,length:0,type:"C",to:a};return this.states.push(c),this.duration=c.start+c.length,this},b.prototype.clearAnimation=function(){this.states=[]},b}),define("src/canvas/rect.js",["src/canvas/node.js"],function(a){function b(a,b,d,e){c.call(this),this.attrs.x=a,this.attrs.y=b,this.attrs.width=d,this.attrs.height=e}var c=a("src/canvas/node.js");return b.prototype=new c,b.prototype.render=function(a,b){a.fillRect(b.x,b.y,b.width,b.height),b.lineWidth&&a.strokeRect(b.x,b.y,b.width,b.height)},b}),define("src/canvas/path.js",["src/canvas/node.js"],function(a){function b(a){g.call(this),this.path=a}function c(a,b,c){c[b]=parseFloat(a)}function d(a){a.m.call(this,a.p,a.r)}function e(a,b){var c=b.width,d=b.height,e=b.radius,f=b.x||0,g=b.y||0;a.beginPath(),a.moveTo(f+e,g),a.lineTo(f+c-e,g),a.arcTo(f+c,g,f+c,g+e,e),a.lineTo(f+c,g+d-e),a.arcTo(f+c,g+d,f+c-e,g+d,e),a.lineTo(f+e,g+d),a.arcTo(f,g+d,f,g+d-e,e),a.lineTo(f,g+e),a.arcTo(f,g,f+e,g,e)
}var f,g=a("src/canvas/node.js"),h=/([A-Za-z])([^A-Za-z]*)/g,i=/\-?[0-9]*\.?[0-9]+/g;b.prototype=new g,b.prototype.decodePath=function(){if(!this.decoded){var a=this.decoded=[];this.path.replace(h,function(b,d,e){var g=e.match(i);g&&g.forEach(c),a.push({m:f[d.toLowerCase()],p:g,r:d.charCodeAt(0)>96})}),this.path=null}},b.prototype.createPath=function(a){this.lastX=0,this.lastY=0,this.decodePath(),this.ctx=a,a.beginPath(),this.decoded.forEach(d,this),a.closePath(),this.ctx=null};var j,k,l;b.prototype.moveTo=function(a,b){if(b?(this.lastX+=a[0],this.lastY+=a[1]):(this.lastX=a[0],this.lastY=a[1]),this.initX=this.lastX,this.initY=this.lastY,this.ctx.moveTo(this.lastX,this.lastY),k=2,l=2,j=a.length/2,b)for(;j>k;++k,l+=2)this.lastX+=a[l],this.lastY+=a[l+1],this.ctx.lineTo(this.lastX,this.lastY);else for(;j>k;++k,l+=2)this.lastX=a[l],this.lastY=a[l+1],this.ctx.lineTo(this.lastX,this.lastY)},b.prototype.lineTo=function(a,b){if(k=0,l=0,j=a.length/2,b)for(;j>k;++k,l+=2)this.lastX+=a[l],this.lastY+=a[l+1],this.ctx.lineTo(this.lastX,this.lastY);else for(;j>k;++k,l+=2)this.lastX=a[l],this.lastY=a[l+1],this.ctx.lineTo(this.lastX,this.lastY)},b.prototype.horLineTo=function(a,b){if(k=0,j=a.length,b)for(;j>k;++k)this.lastX+=a[k],this.ctx.lineTo(this.lastX,this.lastY);else this.lastX=a[j-1],this.ctx.lineTo(this.lastX,this.lastY)},b.prototype.verLineTo=function(a,b){if(k=0,j=a.length,b)for(;j>k;++k)this.lastY+=a[k],this.ctx.lineTo(this.lastX,this.lastY);else this.lastY=a[j-1],this.ctx.lineTo(this.lastX,this.lastY)},b.prototype.arcTo=function(a,b){if(k=0,l=0,j=a.length/5,b)for(;j>k;++k,l+=5){var c=this.lastX+a[l],d=this.lastY+a[l+1];this.lastX=c+a[l+2],this.lastY=d+a[l+3],this.ctx.arcTo(c,d,this.lastX,this.lastY,a[l+4])}else for(;j>k;++k,l+=5)this.lastX=a[l+2],this.lastY=a[l+3],this.ctx.arcTo(a[l],a[l+1],this.lastX,this.lastY,a[l+4])},b.prototype.quadraticTo=function(a,b){if(k=0,l=0,j=a.length/4,b)for(;j>k;++k,l+=4){var c=this.lastX+a[l],d=this.lastY+a[l+1];this.lastX+=a[l+2],this.lastY+=a[l+3],this.ctx.quadraticCurveTo(c,d,this.lastX,this.lastY)}else for(;j>k;++k,l+=4)this.lastX=a[l+2],this.lastY=a[l+3],this.ctx.quadraticCurveTo(a[l],a[l+1],this.lastX,this.lastY)},b.prototype.bezierTo=function(a,b){if(k=0,l=0,j=a.length/6,b)for(;j>k;++k,l+=6){var c=this.lastX+a[l],d=this.lastY+a[l+1],e=this.lastX+a[l+2],f=this.lastY+a[l+3];this.lastX+=a[l+4],this.lastY+=a[l+5],this.ctx.bezierCurveTo(c,d,e,f,this.lastX,this.lastY)}else for(;j>k;++k,l+=6)this.lastX=a[l+4],this.lastY=a[l+5],this.ctx.bezierCurveTo(a[l],a[l+1],a[l+2],a[l+3],this.lastX,this.lastY)},b.prototype.smoothBezierTo=function(a,b){k=0,l=0,j=a.length/4;var c=this.lastX,d=this.lastY;if(b)for(;j>k;++k,l+=4){var e=this.lastX+a[l],f=this.lastY+a[l+1];this.lastX+=a[l+2],this.lastY+=a[l+3],this.ctx.bezierCurveTo(c,d,e,f,this.lastX,this.lastY)}else for(;j>k;++k,l+=4)this.lastX=a[l+2],this.lastY=a[l+3],this.ctx.bezierCurveTo(c,d,a[l],a[l+1],this.lastX,this.lastY)},b.prototype.closePath=function(){this.ctx.closePath(),this.lastX=this.initX,this.lastY=this.initY};var m=Math.PI/180;b.prototype.arc=function(a,b){k=0,l=0,j=a.length/6;var c,d;if(b)for(;j>k;++k,l+=6)c=a[l+2],d=a[l+4],this.lastX+=a[l],this.lastY+=a[l+1],this.ctx.arc(this.lastX,this.lastY,c,a[l+3]*m,d*m,a[l+5]||0),this.lastX+=Math.round(Math.cos(d*m)*c),this.lastY+=Math.round(Math.sin(d*m)*c);else for(;j>k;++k,l+=6)c=a[l+2],d=a[l+4],this.ctx.arc(a[l],a[l+1],c,a[l+3]*m,d*m,a[l+5]||0),this.lastX=Math.round(Math.cos(d*m)*c),this.lastY=Math.round(Math.sin(d*m)*c)};var n=b.prototype;return f={m:n.moveTo,l:n.lineTo,r:n.arcTo,a:n.arc,c:n.bezierTo,q:n.quadraticTo,z:n.closePath,h:n.horLineTo,s:n.smoothBezierTo,v:n.verLineTo},b.prototype.doRender=function(a,b){this.clipPath&&(a.save(),this.clipPath.createPath(a,this.clipPath.getCurrentAttr(b)),a.clip()),g.prototype.doRender.call(this,a,b),this.clipPath&&a.restore()},b.prototype.render=function(a,b){this.createPath(a,b),a.fill(),b.lineWidth&&a.stroke()},b.prototype.clip=function(a){a.decodePath(),this.clipPath=a},b.RoundRect=function(a,c,d){var f=new b;return f.attrs.width=a,f.attrs.height=c,f.attrs.radius=d,f.createPath=e,f},b}),define("src/canvas/circle.js",["src/canvas/node.js"],function(a){function b(a,b,d){c.call(this),this.attrs.x=a,this.attrs.y=b,this.attrs.radius=d}var c=a("src/canvas/node.js");return b.prototype=new c,b.prototype.render=function(a,b){a.beginPath(),a.arc(b.x,b.y,b.radius,0,2*Math.PI,!0),a.closePath(),a.fill(),b.lineWidth&&a.stroke()},b}),define("src/canvas/text.js",["src/canvas/node.js"],function(a){function b(a,b){c.call(this),this.attrs.font=b,this.attrs.text=a}var c=a("src/canvas/node.js");return b.prototype=new c,b.prototype.render=function(a,b){a.font=b.font,a.textBaseline=this.textBaseline||"top",a.textAlign=this.textAlign||"center",a.fillText(b.text,b.x||0,b.y||0),b.lineWidth&&a.strokeText(b.text,b.x||0,b.y||0)},b}),define("data/work.js",["src/canvas/rect.js","src/canvas/path.js","src/canvas/circle.js","src/canvas/text.js"],function(a){var b=[{ttl:"Code Editor【Flash】",color:"蝙蝠侠",desc:"用<span class='emphasize'>AS3</span>做了一个简单的代码编辑器，提供一些简单的语法高亮和代码提示的功能。完全是用正则来实现的(惭愧)。"},{ttl:"TwitWar【C++】",color:"浩克",desc:"基于<span class='emphasize'>Qt框架</span>的一个桌面应用。通过<span class='emphasize'>插件</span>的方式来让用户收取豆瓣/微博/饭否等信息。甚至能检测Gmail新邮件，orz=3 。。。",link:"https://code.google.com/p/twitwarreborn/"},{ttl:"MetalBone【C++】",color:"闪电侠",desc:"受Qt启发的一个轻量级<span class='sub-emph'>Windows</span> <span class='emphasize'>DirectUI库</span>。利用GDI、Direct2D、Skia来绘图。主要负责<span class='emphasize'>交互处理</span>、<span class='emphasize'>重绘处理</span>和<span class='emphasize'>CSS管理样式</span>等功能。",link:"https://github.com/WarWithinMe/MetalBone"},{ttl:"HuamiM【Obj-C】",color:"美队",desc:"<span class='emphasize'>花密</span>是一个密码生成工具，这个是它的<span class='sub-emph'>OSX</span>版本。",link:"http://flowerpassword.com/app/mac"},{ttl:"xVim【Obj-C】",color:"超人",desc:"为<span class='sub-emph'>XCode</span>提供Vim模拟。由于有另外一个叫做XVim的项目提供了更丰富的feature，所以这个项目终止了。",link:"https://github.com/WarWithinMe/xVim"},{ttl:"CodeRunner",color:"金刚狼",desc:"一个简单的SublimeText插件。可以把当前文件（JS、Ruby、Python等）当做脚本运行，然后显示输出结果。",link:"https://github.com/WarWithinMe/Sublime-CodeRunner"},{ttl:"grunt-seajs-build",color:"石头人",desc:"一个Grunt任务，用于构建<span class='emphasize'>Sea.js</span>项目。可以对CMD模块进行<span class='emphasize'>ID、依赖提取</span>和<span class='emphasize'>模块合并</span>",link:"https://npmjs.org/package/grunt-seajs-build"}],c=a("src/canvas/rect.js"),d=a("src/canvas/path.js"),e=a("src/canvas/circle.js"),f=a("src/canvas/text.js");return b[0].setupCanvas=function(a){var b,e=[];b=new d("M0 20l9 0l0 100l-9 0l0-100M14 11l40 0l0 10l-40 0l0-10m0 36l40 0l0 10l-40 0l0-10M24 23l30 0l0 10l-30 0l0-10m0 36l15 0l0 10l-15 0l0-10"),b.attrs.fill="#142f5b",e[0]=b,b=new d("M59 23l25 0l0 10l-25 0l0-10M44 59l30 0l0 10l-30 0l0-10"),b.attrs.fill="#000",e[1]=b,b=new d("M59 11l45 0l0 10l-45 0l0-10m0 36l40 0l0 10l-40 0l0-10M14 35l5 0l0 10l-5 0l0-10m0 60l5 0l0 10l-5 0l0-10M104 47l5 0l0 10l-5 0l0-10M79 59l5 0l0 10l-5 0l0-10m10 0l15 0l0 10l-15 0l0-10"),b.attrs.fill="#35383a",e[2]=b,b=new d("M2 23l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10m0 12l5 0l0 10l-5 0l0-10"),b.attrs.fill="#0f213d",e[3]=b,b=new c(24,71,0,10),b.d(10).c({width:5}).d(200).c({width:10}).d(200).c({width:15}).d(100).c({width:35}).d(1e3),b.attrs.fill="#142f5b",e[4]=b,b=new c(32,76,60,44),b.attrs.fill="#142e5b",b.attrs.visible=!1,b.d(10).c({visible:!0}).d(200).c({x:37}).d(200).c({x:42}).d(100).c({visible:!1}).d(100),e[5]=b,b=new c(32,77,60,14),b.attrs.fill="#f9df0a",b.attrs.visible=!1,b.d(10).c({visible:!0}).d(200).c({x:37}).d(200).c({x:42,y:91}).d(100).c({visible:!1}).d(100),e[6]=b,b=new d("M35 79l20 0l0 10l-20 0l0-10m0 14l35 0l0 10l-35 0l0-10m0 14l25 0l0 10l-25 0l0-10"),b.attrs.fill="#000",b.attrs.visible=!1,b.d(10).c({visible:!0}).d(200).c({translate:{x:5,y:0}}).d(200).c({translate:{x:10,y:0}}).d(100).c({visible:!1}).d(100),e[7]=b,a.addNode(e).background="#191b1e"},b[1].setupCanvas=function(a){var b,e=[];b=new c(10,68,100,150),b.attrs.fill="#9fb536",b.t({y:34},700,"easeInOutCubic").d(1e3),e[0]=b,b=new d("M15 73l24 0l0 24l-24 0l0-24m0 34l24 0l0 24l-24 0l0-24m0 34l24 0l0 24l-24 0l0-24m0 34l24 0l0 24l-24 0l0-24"),b.attrs.fill="#2f3913",b.t({translate:{x:0,y:-110}},700,"easeInOutCubic").d(1e3),e[1]=b,b=new d("M12 100l96 0l0 1l-96 0l0-1m0 34l96 0l0 1l-96 0l0-1m0 34l96 0l0 1l-96 0l0-1"),b.attrs.fill="#688025",b.t({translate:{x:0,y:-110}},700,"easeInOutCubic").d(1e3),e[2]=b,b=new d("M44 73l60 0l0 6l-60 0l0-6m0 8l60 0l0 6l-60 0l0-6m0 8l20 0l0 6l-20 0l0-6m0 18l60 0l0 6l-60 0l0-6m0 8l45 0l0 6l-45 0l0-6m0 26l60 0l0 6l-60 0l0-6m0 8l60 0l0 6l-60 0l0-6m0 8l45 0l0 6l-45 0l0-6m0 18l40 0l0 6l-40 0l0-6m0 8l60 0l0 6l-60 0l0-6m0 11l0 45l60 0l0-45l-60 0a13 11 6 0 360 0m-13 30l18-21l8 13l13-18l12 20l0 6l-51 0"),b.attrs.fill="#dfec7f",b.t({translate:{x:0,y:-110}},700,"easeInOutCubic").d(1e3),e[3]=b,b=new c(10,50,100,18),b.attrs.fill="#6a8526",b.t({y:16},800,"easeInOutCubic").d(1e3),e[4]=b,b=new c(14,54,22,10),b.attrs.fill="#dfec7f",b.t({y:20},800,"easeInOutCubic").d(1e3),e[5]=b,b=new c(10,0,100,50),b.attrs.fill="#8656bf",b.t({y:-34},800,"easeInOutCubic").d(1e3),e[6]=b,a.addNode(e).background="#8656bf"},b[2].setupCanvas=function(a){var f,g=[];f=new d("M30 42l70 0l0 8l-70 0l0-8m0 20l70 0l0 8l-70 0l0-8m0 20l30 0l0 8l-30 0l0-8m50 0l30 0l0 8l-30 0l0-8"),f.attrs.fill="#a52425",g[0]=f,f=new d("M14 40l8 0r2 0 0 2 2l0 8r0 2-2 0 2l-8 0r-2 0 0-2 2l0-8r0-2 2 0 2m0 20l8 0r2 0 0 2 2l0 8r0 2-2 0 2l-8 0r-2 0 0-2 2l0-8r0-2 2 0 2A18 86 6 0 360 1A70 86 6 0 360 1"),f.attrs.fill="#f4c509",g[1]=f,f=d.RoundRect(50,17,4),f.attrs.x=35,f.attrs.y=102,f.attrs.fill="#f4c609",f.d(1200).c({fill:"#fff000"}).d(1e3),g[2]=f,f=new d("M27.572,24.331 C26.494,26.199 24.106,26.838 22.239,25.76 C21.001,25.039 20.255,23.693 20.293,22.263 L20.291,22.262 C20.227,20.872 19.524,19.725 18.342,19.002 L9.737,14.034 L9.737,14.035 C8.678,13.434 7.381,13.357 6.261,13.838 C5.631,14.108 5.443,14.36 4.644,14.508 C3.709,14.682 2.788,14.472 1.953,14.048 C0.085,12.97 -0.554,10.582 0.524,8.715 C1.602,6.848 3.99,6.208 5.857,7.286 C3.99,6.208 3.35,3.82 4.428,1.953 C5.506,0.085 7.894,-0.554 9.761,0.524 C10.723,1.105 11.435,2.062 11.646,3.175 C11.704,3.48 11.691,3.697 11.706,3.985 C11.726,4.364 11.776,4.728 11.892,5.091 C12.188,6.018 12.816,6.767 13.641,7.272 L13.641,7.272 L22.246,12.24 C23.198,12.783 24.343,12.912 25.388,12.577 C26.123,12.342 26.476,11.956 27.31,11.789 C28.26,11.598 29.196,11.805 30.047,12.236 C31.915,13.314 32.554,15.702 31.476,17.569 C30.398,19.436 28.01,20.076 26.143,18.998 C28.01,20.076 28.65,22.464 27.572,24.331"),f.attrs.fill="#fff",f.attrs.scale={x:.6,y:.6},f.attrs.translate={x:51,y:7},g[3]=f,f=new c(15,43,6,6),f.attrs.fill="#a52425",f.attrs.visible=!1,f.d(420).c({visible:!0}).d(1e3),g[4]=f,f=new e(18,86,3),f.attrs.fill="#a52425",f.attrs.visible=!1,f.d(920).c({visible:!0}).d(1e3),g[5]=f,f=new d("M21.372,6.037 C23.85,9.512 23.163,11.959 25.658,15.457 C22.517,17.697 19.348,19.957 16.04,22.316 C10.849,18.449 6.368,17.209 4.921,16.722 C3.542,16.259 2.651,15.374 2.958,14.264 C3.268,13.141 4.442,12.807 5.41,12.851 C6.87,12.917 8.055,13.355 8.055,13.355 L1.347,3.951 C0.748,3.111 0.944,1.946 1.783,1.347 C2.622,0.749 3.788,0.943 4.386,1.783 L8.929,8.142 C9.148,8.449 9.574,8.52 9.881,8.301 C10.188,8.082 10.26,7.656 10.041,7.349 L8.921,5.779 C9.427,5.65 10.042,5.496 10.723,5.33 C11.195,5.215 11.69,5.399 11.972,5.794 L12.889,7.079 C13.108,7.386 13.534,7.457 13.841,7.239 C14.148,7.019 14.22,6.593 14.001,6.286 L12.942,4.802 C13.527,4.667 14.123,4.533 14.712,4.405 C15.176,4.305 15.656,4.491 15.931,4.877 L16.71,5.968 C16.928,6.275 17.355,6.347 17.662,6.128 C17.969,5.909 18.04,5.482 17.821,5.175 L16.949,3.952 C17.126,3.919 17.3,3.888 17.469,3.859 C19.285,3.542 20.267,4.488 21.372,6.037"),f.attrs.fill="#fff",f.attrs.visible=!1,f.attrs.scale={x:.6,y:.6},f.attrs.translate={x:120,y:100},f.d(10).c({visible:!0}).t({translate:{x:16,y:45}},390,"easeInOutCubic").d(100).t({translate:{x:19,y:85}},400,"easeInOutCubic").d(100).t({translate:{x:50,y:110}},300,"easeInOutCubic").d(100),g[6]=f,b[2].__cursor=f,a.addNode(g).background="#f25050"},b[2].onMove=function(a,c){b[2].__cursor.attrs.translate={x:a,y:c}},b[3].setupCanvas=function(a){var b,e=[];b=d.RoundRect(104,64,4),b.attrs.fill="#254aab",b.attrs.translate={x:8,y:37},e[0]=b,b=new d("M14 47l92 0l0 12l-92 0l0-12m0 18l92 0l0 12l-92 0l0-12"),b.attrs.fill="#4fa9e0",e[1]=b,b=new c(34,49,0,8),b.attrs.fill="#cd222b",b.d(90).c({width:10}).d(90).c({width:20}).d(90).c({width:30}).d(90).c({width:40}).d(90).c({width:50}).d(90).c({width:60}).d(90).c({width:70}).d(90),e[2]=b,b=new c(34,67,0,8),b.attrs.fill="#cd222b",b.d(720).c({width:10}).d(90).c({width:20}).d(90).c({width:30}).d(90).c({width:40}).d(90).c({width:50}).d(90).c({width:60}).d(90).c({width:70}).d(1e3),e[3]=b;for(var f=["#3572cc","#cd222b","#fff","#4fa9e0","#ae141e"],g=0;9>g;++g){b=new c(16+10*g,85,8,10),b.attrs.visible=!1,e[e.length]=b.d(720).c({visible:!0});for(var h=0;7>h;++h)b.c({fill:f[Math.floor(5*Math.random())]}).d(90)}a.addNode(e).background="#4fa9e0"},b[4].setupCanvas=function(a){var b=[],e=new c(0,0,120,33);e.attrs.fill="#1f2224",b[0]=e,e=new d("A23 20 7 0 360 1A40 20 7 0 360 1M46 47l35 0l0 10l-35 0l0-10m0 15l25 0l0 10l-25 0l0-10"),e.attrs.fill="#f4c609",b[1]=e,e=new c(71,62,8,10),e.attrs.fill="#c41c06",e.attrs.visible=!1,e.d(300).c({visible:!0}).d(300),b[2]=e,e=d.RoundRect(59,15,4),e.attrs.translate={x:54,y:12},e.attrs.fill="#f4c609",b[3]=e,e=new d("M60 23l29 0l0 2l-29 0l0-2M0 33l36 0l0 97l-36 0l0-97"),e.attrs.fill="#ea370b",b[4]=e,e=new c(36,33,84,5),e.attrs.fill="#c41c06",b[5]=e,e=new d("M89 23l10 0l0 2l-10 0l0-2M37 17l6 0l0 6l-6 0l0-6M27 20l-5 5l0-10"),e.attrs.fill="#1f2224",b[6]=e,a.addNode(b).background="#2449aa"},b[5].setupCanvas=function(a){var b=[],e=new d("M0 0l48 6l5 18l28-13l39 0l0 59l-120 0l0-70");e.attrs.fill="#f8dd0d",b[0]=e,e=new c(0,70,120,5),e.attrs.fill="#c41c06",b[1]=e,e=new c(8,38,55,10),e.attrs.fill="#bd8d07",b[2]=e,e=new f("S","14px Helvetica,Arial"),e.attrs.x=60,e.attrs.y=3,e.attrs.fill="#f8dd0d",b[3]=e,e=new c(8,50,0,10),e.attrs.fill="#bd8d07",e.d(125).c({width:10}).d(125).c({width:20}).d(125).c({width:30}).d(125).c({width:40}).d(100),b[4]=e,e=d.RoundRect(54,22,4),e.attrs.x=33,e.attrs.y=59,e.attrs.fill="#080808",e.attrs.alpha=0,e.d(550).t({alpha:1},250).d(500).c({alpha:0}).d(100),b[5]=e,e=new f("⌘+R","14px Helvetica,Arial"),e.textBaseline="middle",e.attrs.x="60",e.attrs.y="70",e.attrs.fill="#f8dd0d",e.attrs.alpha=0,e.d(550).t({alpha:1},250).d(500).c({alpha:0}).d(100),b[6]=e,e=new d("M8 83l50 0l0 10l-50 0l0-10m0 12l80 0l0 10l-80 0l0-10m0 12l70 0l0 10l-70 0l0-10"),e.attrs.fill="#3266cc",e.attrs.visible=!1,e.d(900).c({visible:!0}).d(1e3),b[7]=e,a.addNode(b).background="#1f2224"},b[6].setupCanvas=function(a){var b,g=[];b=new c(0,97,120,50),b.attrs.fill="#3572cc",g[0]=b,b=new e(88,97,12),b.attrs.fill="#2449aa",g[1]=b,b=new e(88,97,9),b.attrs.fill="#fff",g[2]=b,b=new f("Sea","9px Helvetica,Arial"),b.textBaseline="middle",b.attrs.fill="#2449aa",b.attrs.x=88,b.attrs.y=97,g[3]=b,b=new d("M36.354 108.194c-8.504-1.707-11.704-6.04-13.768-10.504-14.942-4.761-10.733-24.21-5.551-26.146.888 3.574 1.545 6.175 5.329 8.939-.064-6.772 2-15.347-1.553-18.326-1.778-1.043-8.152-4.104-9.994-7.152-1.693-4.237-.824-8.422 3.997-10.279.675-3.791.329-7.09.277-8.051-7.459-11.248 2.24-13.105 4.672-12.888 1.851-7.818-5.171-8.932-8.724-9.678 9.03-11.62 22.048-3.285 26.647 3.352.009.231 1.109-.222 1.109-.222-.148-2.533 1.556-8.271 5.997-10.057.146 3.278.73 5.431 1.775 5.811.01-.069-.601-5.743 7.772-8.493-.951 4.997.362 6.921.666 7.598.899-.514 2.508-3.358 7.106-3.13-1.471 2.467-2.377 7.072-1.997 7.823.231.306 2.432.961 2.219.894 3.933-7.815 19.161-14.459 26.425-3.576-7.392 1.05-9.771 4.098-8.438 9.609 4.59 0 11.39 3.942 4.219 12.964-.361 2.612.064 4.536.666 8.044 12 7.531-1.787 15.562-5.996 16.985-1.247 1.572-1.712 3.345-2.22 4.468-.064 10.065.803 10.348.888 14.08 1.121-.588 4.654-4.178 5.054-9.122 10.732 11.986.721 25.064-5.498 26.553-.887.895-3.258 8.875-14.196 10.618-2.597 2.35-14.533 8.147-26.883-.114z"),b.attrs.fill="#462F13",b.attrs.scale={x:.5,y:.5},b.attrs.translate={x:3,y:33},g[4]=b,b=new d("M50.12 43.831c-2.981.128-5.55-3.512-5.55-3.574.338.195.655.432 1.013.586 2.01.868 1.868.704 3.951.946.597-.046 1.199-.049 1.791-.139 1.531-.232 3.027-.815 4.346-1.617 0 0-2.569 3.672-5.551 3.798zm-17.215 60.564c-1-1.902-2.331-4.189-2.665-5.139 0 0-3.276-.222-3.775-.448-.499-.225 3.054 4.36 6.44 5.587zm33.973-.222c3.361-1.227 6.889-5.807 6.392-5.58-.496.226-3.747.446-3.747.446-.33.949-1.652 3.232-2.645 5.134zm-26.867-4.471c-2.72-.052-5.164-4.582-5.33-5.138-.167-1.005.276-1.792 1.331-1.79 1.057.003 6.996-.002 7.996 0 1.023.003 1.387.95 1.11 1.565-.389 1.174-2.055 5.249-5.107 5.363zm19.985 0c-2.72-.052-5.164-4.582-5.331-5.138-.167-1.005.279-1.792 1.334-1.79 1.055.003 6.994-.002 7.994 0 1.023.003 1.386.95 1.109 1.565-.388 1.174-2.054 5.249-5.106 5.363zm-8 9.668c3.271-.698 4.225-.637 7.111-2.216 4.505-2.464 7.294-6.955 8.883-11.698 1.775-5.253-2.833-6.031-3.775-6.033h-19.904l-1.615-.002c-2.302 0-4.604 0-6.906.002 0 0-5.383.114-4.219 4.916 1.365 5.047 4.164 10.035 8.76 12.814 2.866 1.732 6.123 2.478 9.449 2.382zm16.703-89.301c.172-.293.325-.596.515-.878 1.743-2.588 4.397-4.556 7.506-5.142.853-.161 1.731-.153 2.596-.23l1.448.096s1.295-.668 1.998-1.114c-3.28-1.624-7.255-1.495-10.488.226-2.638 1.404-4.716 3.574-6.388 6.015 1.11.295 2.073.741 2.666 1.336zm4.959 4.544c.815-.149 1.407-.261 2.444-.446 1.331-1.67.222-5.313 2.219-8.024-.266-.001-.538-.065-.797-.004-.666.155-1.348.314-1.947.644-2.17 1.195-3.593 3.225-4.14 5.602.89.446 1.629 1.187 2.221 2.228zm-42.191-4.246c.593-.595 1.556-1.044 2.666-1.341-1.371-1.847-1.831-2.627-3.821-4.309-3.625-3.064-8.737-4.129-13.055-1.948.703.446 1.998 1.116 1.998 1.116l1.448-.096c.866.077 1.743.069 2.597.23 3.506.663 6.631 3.148 8.167 6.348zm-5.106 4.246c.592-1.043 1.331-1.787 2.221-2.235-.659-2.467-1.812-4.331-4.14-5.616-.598-.331-1.281-.491-1.947-.646-.259-.061-.531.003-.797.004 1.997 2.721.888 6.37 2.219 8.047 1.037.185 1.629.297 2.444.446zm38.194 62.127s-4.841-15.148-4.663-18.772c2.75 5.03 4.396 10.612 6.66 15.863 2.807-.155 5.912-.237 8.438-1.561-1.421-9.346-1.021-14.258-.666-16.761-.176-3.844 3.331-6.033 3.331-6.033 7.55-4.649 8.484-5.32 8.66-7.823.178-2.503-1.732-4.067-2.441-4.246-.179.716.443 2.906.443 2.906s-5.596-6.525-2.221-17.878c.055.897.088 1.799.212 2.69 1.204-1.86 2.326-3.994 2.231-6.266-4.418-6.783-21.332 3.654-25.981 7.823 3.526-7.507 11.325-10.953 11.325-10.953-15.189-13.139-39.258-3.038-39.969 0 7.639 3.576 11.547 10.953 11.547 10.953s-11.991-10.461-22.65-9.834c-6.839.895-1.11 8.044-1.11 8.044s-.222-3.306.222-2.681c3.286 13.499-2.443 18.102-2.443 18.102s1.244-3.933 0-2.682c-4.53 4.649.178 7.285.887 8.269 4.709 2.681 8.573 4.022 9.55 9.833 0 10.012-.622 13.72-.888 16.761 2.663.733 5.406 1.096 8.154 1.336h.062c2.16-5.337 4.109-10.81 6.884-15.862-1.334 10.547-5.109 18.772-5.108 18.772zm-25.538-26.818s1.206-5.139-.443-6.479c-1.678.867-2.322 1.358-4.495 1.509-4.339.303-8.062-3.351-9.232-7.271-.198-.661-.273-1.355-.334-2.043-.026-.303.048-.608.072-.912-.89.766-1.111 3.349-1.111 3.351-2.856-4.848.825-6.461.443-6.479-.379-.02-1.455-.4-2.663-.894 2.591-.24 2.702-.329 4.531-.197 9.449 3.239 10.042 4.121 11.821 5.937 1.319 1.346 2.104 2.409 3.912 3.105.608.235 1.289.198 1.933.297 1.869-.232 1.058-.061 2.451-.428.508 3.832-4.155 4.025-4.219 4.025-.064 4.086-2.666 6.479-2.666 6.479zm22.05.006s-2.602-2.393-2.666-6.479c-.064 0-4.727-.193-4.219-4.025 1.393.367.582.196 2.451.428.644-.099 1.325-.062 1.933-.297 1.808-.696 2.593-1.759 3.912-3.105 1.779-1.816 2.372-2.698 4.641-4.042 2.372-1.405 5.351-1.763 7.18-1.895 1.83-.132 1.94-.043 4.531.197-1.208.494-2.284.874-2.663.894-.382.018 3.299 1.631.443 6.479 0-.002-.221-2.585-1.111-3.351.024.304.098.609.072.912-.061.688-.136 1.382-.334 2.043-1.17 3.92-4.893 7.574-9.232 7.271-2.173-.151-2.817-.642-4.495-1.509-1.649 1.34-.443 6.479-.443 6.479z"),b.attrs.fill="#f3a540",b.attrs.scale={x:.5,y:.5},b.attrs.translate={x:3,y:33},g[5]=b,b=new d("M28.582 95.903c-4.595-.822-8.33-1.513-11.332-5.546-2.734-3.674-2.184-8.828-1.326-13.004 1.795 4.552 5.312 6.842 9.844 8.198 2.022.606 4.091.762 6.143 1.189-.887 1.341-4.441 4.247-3.329 9.163zm42.624-.224c1.107-4.917-2.435-7.822-3.32-9.163 1.247-.246 2.512-.36 3.759-.619 3.517-.731 7.177-1.987 9.691-4.702 1.588-1.715 1.699-2.259 2.489-4.064 1.129 5.03 1.314 11.259-3.028 14.918-2.731 2.301-5.81 3.017-9.221 3.547zm-4.684-42.914c-1.512.062-3.37-.416-4.189-1.116.945-2.235 6.489-6.859 9.259-7.818.351 2.193.687 5.336-1.077 7.079-1.205 1.19-1.866 1.181-3.437 1.665zm-33.025 0c-1.532-.487-2.788-.665-3.993-1.855-1.783-1.761-1.399-4.869-1.077-7.079 2.77.959 8.314 5.583 9.259 7.818-.819.7-2.677 1.178-4.189 1.116z"),b.attrs.fill="#fff",b.attrs.scale={x:.5,y:.5},b.attrs.translate={x:3,y:33},g[6]=b,b=new c(84,34,28,28),b.attrs.fill="#462f13",g[7]=b;var h="M-.169 10.234c5.257 0 9.714-4.628 9.714-10.162 0-5.536-4.457-10.026-9.714-10.026-5.253 0-9.513 4.49-9.513 10.026 0 5.534 4.26 10.162 9.513 10.162zm-.584 19.266c-3.188 0-4.879-7.342-5.034-8.053-1.873-.557-3.624-1.396-5.242-2.439l.503.566s-5.762 4.992-8.573 2.028l-1.244-1.09c-2.243-2.364 1.525-8.881 1.929-9.556-.817-1.524-1.486-3.145-1.952-4.86-.711-.177-7.634-1.955-7.634-5.304v-1.437c0-3.822 6.458-5.013 7.605-5.193.454-1.732 1.121-3.364 1.936-4.895-.32-.481-4.531-6.879-2.252-9.28l1.314-1.163c2.574-2.716 8.011 1.256 8.917 1.952 1.474-.888 3.047-1.61 4.721-2.106.287-1.275 1.964-8.17 5.006-8.17h1.365c3.466 0 4.661 6.452 4.909 8.117 1.703.486 3.305 1.209 4.802 2.098 1.053-.681 6.693-4.178 8.836-1.917l1.243 1.385c2.466 2.594-1.142 7.713-2.077 8.945.855 1.587 1.543 3.289 2.014 5.087l.004-.092s7.657 1.041 7.657 5.232v1.437c0 3.132-6.286 4.904-7.699 5.26-.49 1.835-1.205 3.563-2.094 5.169l.137-.132s4.457 5.996 1.642 8.958l-1.381 1.458c-2.116 2.229-7.254-1.246-8.334-2.018-1.615.952-3.365 1.689-5.208 2.174l.516.016s-.989 7.823-4.967 7.823z";b=new d(h),b.attrs.scale={x:.3,y:.3},b.attrs.translate={x:93,y:55},b.attrs.fill="#f3a540",b.t({rotate:-360},1200),g[8]=b,b=new d(h),b.attrs.scale={x:.3,y:.3},b.attrs.translate={x:104,y:42},b.attrs.rotate=15,b.attrs.fill="#f3a540",b.t({rotate:375},1200),g[9]=b,b=new d("M84 34l28 0l0 28l-28 0l0-28a14 14 12 0 360 1"),b.attrs.fill="#462f13",g[10]=b,b=new d("M80 30l36 0l0 36l-36 0l0-36a18 18 14 0 360 1"),b.attrs.fill="#f3a540",g[11]=b,b=new d("M50 40l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15"),b.attrs.fill="#4fa9e0",b.attrs.translate={x:-36,y:0},b.clip(new d("M50 40l32 0l0 15l-32 0l0-15")),b.t({translate:{x:0,y:0}},1200),g[12]=b,b=new d("M75 50l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15m9 0l5 0l0 15l-5 0l0-15"),b.attrs.fill="#4fa9e0",b.attrs.rotate=20,b.clip(new d("M53 71.5l24.432 8.893l-5.814 15.975l-24.432-8.893")),b.t({translate:{x:-33.82884,y:-36*.34202}},1200),g[13]=b,a.addNode(g).background="#f3a540"},b}),define("src/canvas/canvas.js",["src/misc.js"],function(a){function b(a){if(this==window)return new b(a);if(a.getContext){var c=a.getContext("2d"),d=window.devicePixelRatio||1,e=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStoreRatio||1,f=d/e;this.ctx=c,this.duration=0,this.rqfID=null,this.nodes=[];var g=getComputedStyle(a);return this.width=parseInt(g.width)||a.width,this.height=parseInt(g.height)||a.height,a.width=this.width*f,a.height=this.height*f,a.style.width=this.width+"px",a.style.height=this.height+"px",d!=e&&c.scale(f,f),this}return null}return a("src/misc.js"),b.prototype.updateDuration=function(){this.duration||this.nodes.forEach(function(a){this.duration<a.duration&&(this.duration=a.duration)},this)},b.prototype.needRedraw=function(a){for(var b=this.nodes.length-1;b>=0;--b)if(this.nodes[b].needRedraw(a))return!0;return!1},b.prototype.background=null,b.prototype.infinite=!0,b.prototype.context=function(){return this.ctx},b.prototype.addNode=function(a){return void 0!==a.length?this.nodes=this.nodes.concat(this.nodes,a):this.nodes[this.nodes.length]=a,this.duration=0,this},b.prototype.animate=function(){if(!this.rqfID){this.updateDuration();var a,b,c=this,d=Date.now();this.onRequest=function(){if(a=Date.now()-d,a>c.duration&&0==c.infinite)return c.onRequest=null,c.rqfID=null,void 0;var e=a>c.duration+1;e?(b=a%(c.duration+1),d+=c.duration+1):b=a,(e||c.needRedraw(b))&&c.render(b,e),c.rqfID=requestAnimationFrame(c.onRequest)},this.render(),this.rqfID=requestAnimationFrame(this.onRequest)}},b.prototype.stop=function(){this.rqfID&&(cancelAnimationFrame(this.rqfID),this.rqfID=null)},b.prototype.render=function(a,b){this.ctx.clearRect(0,0,this.width,this.height),this.background&&(this.ctx.fillStyle=this.background,this.ctx.fillRect(0,0,this.width,this.height)),this.ctx.save();for(var c=0,d=this.nodes.length;d>c;++c){var e=this.nodes[c];b&&e.restart(),e.doRender(this.ctx,a||0)}this.ctx.restore()},b}),define("src/canvas/hex-canvas.js",["src/canvas/canvas.js"],function(a){function b(a){var b=new d(a);return b._render=b.render,b.render=c,b}function c(a,b){this._render(a,b);var c=this.ctx;c.beginPath();var d=this.width/2,e=this.height/4;c.moveTo(d,0),c.lineTo(this.width,e),c.lineTo(this.width,3*e),c.lineTo(d,this.height),c.lineTo(0,3*e),c.lineTo(0,e),c.globalCompositeOperation="destination-in",c.fill(),c.globalCompositeOperation="source-over"}var d=a("src/canvas/canvas.js");return b}),define("src/work.js",["data/work.js","src/canvas/hex-canvas.js"],function(a){function b(a){var b=a.toggleClass("hover",!0),c=e[b.data("widx")],d=b.position();$("#W_workDesc").attr("data-faq",c.ttl).html(c.desc).attr("data-color","色板："+c.color).css("top",d.top),g.toggleClass("hover",!0),o&&(clearTimeout(o),o=null),c.canvas&&c.canvas.animate()}function c(){g.toggleClass("hover",!1)}function d(a){$("#W_workDesc").attr("data-faq","").html("").attr("data-color",""),a.toggleClass("hover",!1),o||(o=setTimeout(c,150));var b=e[a.data("widx")];b.canvas&&(b.canvas.stop(),b.canvas.render())}for(var e=a("data/work.js"),f=a("src/canvas/hex-canvas.js"),g=$(".work-heap"),h=0;h<e.length;++h){var i="<li class='work-piece'>";e[h].link&&(i+="<a class='work-link' href='"+e[h].link+"'></a>");var j=$(i+"<canvas></canvas></li>").appendTo(g).data("widx",h);if(e[h].setupCanvas){var k=new f(j.children("canvas")[0]);e[h].canvas=k,e[h].setupCanvas(k),k.render()}}var l,m=function(a,b){var c=$(".work-piece").offset();c.width/=2,c.height/=2;var d=c.height/2,e=Math.atan2(d,c.width);return m=function(a,b){return a>c.width&&(a=c.width-(a-c.width)),b>c.height&&(b=c.height-(b-c.height)),b>d?!0:(b=d-b,Math.atan2(b,a)<e)},l=function(a,b){return a>c.width&&b<c.height?Math.pow(a-92,2)+Math.pow(b-20,2)<256:!1},m(a,b)},n=!1,o=null;g.on("mousemove",".work-piece",function(a){var c=m(a.offsetX,a.offsetY),f=!1,g=$(a.currentTarget);c||(f=g.children(".work-link").length>0,f&&(c=f=l(a.offsetX,a.offsetY))),g.toggleClass("link-hover",f);var h=e[g.data("widx")];h.onMove&&h.onMove(a.offsetX,a.offsetY),n!=c&&(n=c,c?b(g):d(g))}).on("mouseleave",".work-piece",function(a){n=!1,d($(a.currentTarget))}).on("click",".work-piece",function(a){var b=$(a.currentTarget);b.hasClass("link-hover")&&window.open(b.children(".work-link").attr("href"),"_blank")})}),define("main.js",["src/definition.js","src/skill/skill.js","src/timeline.js","src/sliderpuzzle.js","src/contact.js","src/print.js","src/work.js","src/misc.js","src/scrollwatcher.js","src/tooltip.js"],function(a){a("src/definition.js"),a("src/skill/skill.js"),a("src/timeline.js"),a("src/sliderpuzzle.js"),a("src/contact.js"),a("src/print.js"),a("src/work.js"),function(){function b(){function a(){var b=$("#W_citeCarousel .cite-wrap").eq(0);b.animate({"margin-top":-b.height()},400,"linear",function(){$("#W_citeCarousel .cite-wrap").eq(0).appendTo($("#W_citeCarousel")).css("margin-top",0)}),setTimeout(a,5e3)}setTimeout(a,5e3)}function c(){function a(){return $("#W_citeCarousel").off(f.animationEnd,a).removeClass("cite-play"),setTimeout(b,5e3),!1}function b(){var b=$("#W_citeCarousel"),c=b.children();b.children(".head").removeClass("head"),b.children(".tail").removeClass("tail"),c.eq(d).addClass("head"),++d,d==e&&(d=0),c.eq(d).addClass("tail"),b.on(f.animationEnd,a).addClass("cite-play")}e=$("#W_citeCarousel").removeClass("cite-con").children().wrap("<div class='cite-con'></div>").length,d=e-1,setTimeout(b,2e3)}var d=0,e=0,f=a("src/misc.js");(f.threed?c:b)()}(),function(){function b(a,b){if(a&&($(a).toggleClass("active",!0),setTimeout(function(){$(a).toggleClass("active",!1)},200)),!i){var c,d=window.scrollTop||window.scrollY,e=$(".page-wrap"),f=-1,g=0;if(b){for(;g<e.length;++g)if(c=e.eq(g).offset(),d<Math.round(c.top)){f=Math.round(c.top);break}}else for(g=e.length-1;g>=0;--g)if(c=e.eq(g).offset(),d>c.top){f=c.top;break}-1==f&&(f=b?document.documentElement.scrollHeight-window.innerHeight:0),f!=d&&(i=!0,$.genericAnimate(f-d,function(a){window.scrollTo(0,Math.floor(d+a)),d+a==f&&(i=!1)}))}}function c(a){return b(a?"#W_vimK":"",!1),!1}function d(a){return b(a?"#W_vimJ":"",!0),!1}var e=a("src/scrollwatcher.js"),f=$(".logo").height()+4,g=new e(".intro-wrap-holder",-f);g.on("scrollabove",function(){$(".top-line").show()}).on("scrollinto",function(){$(".top-line").hide()});var h=new e(".page3",0);h.on("scrollinto",function(){$(".shortcut-nav").toggleClass("sticky",!0)}).on("scrollbelow",function(){$(".shortcut-nav").toggleClass("sticky",!1)});var i=!1;$("body").on("keypress",function(a){var b=a.which||a.keyCode;106==b?d(!0):107==b&&c(!0)}).on("keydown",function(b){var c=b.which||b.keyCode;if(80==c&&b.metaKey){var d=$("#W_ctrlP").toggleClass("active",!0),e=a("src/tooltip.js");e.show(d[0],{content:"点击下载<br/>我的简历"}),setTimeout(function(){$("#W_ctrlP").toggleClass("active",!1)},200),setTimeout(function(){e.hide(d[0])},800)}}),$("#W_vimJ").on("touchend click",d),$("#W_vimK").on("touchend click",c)}(),navigator.userAgent.match(/opera/i)&&($("body").addClass("opera"),$("footer .wwmfont").html(""))});
