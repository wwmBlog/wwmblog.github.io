
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>War Within Me</title>
    <meta name="author" content="WWM">

    
    <meta name="description" content="HTML5的DND API好恶心哦 0 12年04月15日 HTML5将Drag and Drop标准化的过程中，为了省事，将M$的那一套DnD搬了过来（M$好不容易有些东西变成标准，却又这么让人纠结&#8230;lol）。然后就是各种的莫名其妙： &hellip;">
    
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">

    <link href="/blog/atom.xml" rel="alternate" title="War Within Me" type="application/atom+xml">
    <link rel="canonical" href="">
    <link href="/blog/favicon.png" rel="shortcut icon">
    <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15468441-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
    <div class="contentWrapper">
<div class="blog-index">
    <div id="hideout"><div id="hideoutBtn"></div></div>

    
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/04/sucky-html5-dnd-api/">HTML5的DND API好恶心哦</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/04/sucky-html5-dnd-api/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-04-15T00:09:00+08:00" pubdate data-updated="true">12年04月15日</time></div>
    </div>
    <div class="entry">
        <p>HTML5将Drag and Drop标准化的过程中，为了省事，将M$的那一套DnD搬了过来（M$好不容易有些东西变成标准，却又这么让人纠结&#8230;lol）。然后就是各种的莫名其妙：</p>

<ol>
<li><code>dragenter</code>和<code>dragover</code>事件的存在就是让web开发者调用<code>e.preventDefault()</code>？</li>
<li><code>dragenter</code>和<code>dragleave</code>会因为鼠标划过children而出现多次。并且次序是反的。</li>
<li>DnD事件那么多种，我都数不过来了。</li>
<li>各种DnD事件里面获得的FileList不能获取绝对路径（这个其实属于FileSystem那边的问题，虽然可以理解，但是这样限制，本地应用根本没法弄）。</li>
<li>element如果没有监听<code>drop</code>事件，用户就不能在这个element放东西。并且<code>dragenter</code>和<code>dragover</code>默认的操作就是禁止用户拖放。。。结果不监听任何DnD事件的body，却又默认接受一切的拖放，这是要闹哪样啊？</li>
</ol>


<p>结果如果想利用Webkit做Native Client App的话（我有没有说搭配[ember.js]其实是很爽的事情呢？），想用HTML5的DnD，就只能在自己的App Thin Wrapper里做非标准的实现了。</p>

        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/html5/'>HTML5</a>, <a class='category' href='/blog/blog/categories/web/'>Web</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/03/after-read-mission-transition/">After Reading Misstion Transition</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/03/after-read-mission-transition/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-03-01T20:27:00+08:00" pubdate data-updated="true">12年03月01日</time></div>
    </div>
    <div class="entry">
        <p><a href="http://www.smashingmagazine.com">SmashingMagazine</a>真心赞。。刚看到最近的一篇文章<a href="http://uxdesign.smashingmagazine.com/2012/02/28/mission-transition/">Mission Transition</a>。发觉如果transition的效果做好的，用着会有很爽的赶脚。</p>

<p><a href="http://itunes.apple.com/ca/app/scorekeeper-xl/id463243024">Scorekeeper</a>真心让人眼前一亮。那种方方框框的UI跟那种动画效果好搭啊，有木有！！！各种设计恰到好处，感觉没啥多余东西哦。</p>

<object width="560" height="315"><param name="movie" value="http://www.youtube.com/v/sXqXpwyBI1k?version=3&amp;hl=zh_CN&amp;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/sXqXpwyBI1k?version=3&amp;hl=zh_CN&amp;rel=0" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>




        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/ux/'>UX</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/03/sanada/">大叔卖萌是犯规哟</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/03/sanada/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-03-01T18:42:00+08:00" pubdate data-updated="true">12年03月01日</time></div>
    </div>
    <div class="entry">
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/二次元/'>二次元</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/03/javascript-image/">JS检测Image的加载</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/03/javascript-image/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-03-01T10:54:00+08:00" pubdate data-updated="true">12年03月01日</time></div>
    </div>
    <div class="entry">
        <h2>Background</h2>

<p>页面中所有指向大图的链接，在被点击时不跳转，而是直接显示该大图。为了能尽快可以加载这些大图，它们会在页面完全加载完后，自动预加载。<br/>
JS代码要做的是<strong>点击链接时，需要判断图片是否能立刻显示</strong>。</p>

<h2>Issue</h2>

<h4>Firefox quirkies</h4>

<p>FF里面，一旦一个<code>Image</code>对象加载完成，它的<code>complete</code>属性就变成<code>true</code>，并且一直为<code>true</code>，即使修改<code>src</code>属性去加载另外的图片：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
</span><span class='line'><span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;loaded_pic.jpg&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">true</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;not_loaded_pic.jpg&#39;</span><span class="p">;</span>
</span><span class='line'><span class="c1">// 加载没有cache的图片，这里img.complete本来应为false，但FF不重设img的complete属性。</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">true</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><strong>每次都要用全新的Image对象检测图片是否能立刻显示</strong></li>
</ul>


<h4>Chrome quirkies</h4>

<p>Chrome的<code>complete</code>很飘忽，好难捉摸啊：</p>

<ul>
<li>显示过的图片，<code>complete</code>一定(?)为<code>true</code>。</li>
<li>没Cache的图片，在没加载完成前，<code>complete</code>肯定为<code>false</code> (理所当然嘛)</li>
<li>Cache了的图片就用代码说明好了：</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">imgURL</span>        <span class="o">=</span> <span class="s1">&#39;cached.jpg&#39;</span><span class="p">;</span>    <span class="c1">// 缓存图片路径</span>
</span><span class='line'><span class="nx">anotherImgURL</span> <span class="o">=</span> <span class="s1">&#39;cached2.png&#39;</span><span class="p">;</span>   <span class="c1">// 另外一个缓存了的图片路径</span>
</span><span class='line'><span class="nx">globalImg</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>     <span class="c1">// 全局用预加载器</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">onDocReady</span><span class="p">()</span> <span class="c1">// 页面加载完成后调用</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">preloadImg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">preloadImg</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imgURL</span><span class="p">;</span>           <span class="c1">// 第一次请求加载该图片</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">preloadImg</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// 即使缓存了，complete铁定也是false</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">preloadImg2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">preloadImg2</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imgURL</span><span class="p">;</span>          <span class="c1">// 立马再请求一次</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">preloadImg</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// 依然是false</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">globalImg</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">anotherImgURL</span><span class="p">;</span>     <span class="c1">// 用全局的来预加载</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">onLinkClick</span><span class="p">()</span> <span class="c1">// 点击某个链接时调用</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imgURL</span><span class="p">;</span>
</span><span class='line'>    <span class="c1">// 之后再加载该图片，complete有可能是true，也可能是false</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">false</span> <span class="o">||</span> <span class="nx">img</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">true</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">img2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">img2</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">anotherImgURL</span><span class="p">;</span>
</span><span class='line'>    <span class="c1">// 用全局的预加载的话，这个一定为true。</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">complete</span> <span class="o">==</span> <span class="kc">true</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>结论就是：</p>

<ol>
<li>图片的complete属性最起码要在下一次代码调度时才会更改。</li>
<li>如果指向图片A的所有Image对象都被GC，而且这个图片A并没有在页面显示过，则再创建Image对象，将它<code>src</code>设为链接A，它的complete属性要在下次调度时才会变成ture。(将预加载放在一个全局对象里面，它就不被回收)</li>
</ol>


        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/js/'>JS</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/02/xvim-v02/">xVim v0.2 Is Out</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/02/xvim-v02/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-02-23T12:26:00+08:00" pubdate data-updated="true">12年02月23日</time></div>
    </div>
    <div class="entry">
        <p>Well, <a href="https://github.com/WarWithinMe/xVim">xVim</a> v0.2 is out. It now supports <strong>Visual Mode</strong>, <em>though some command are still not implemented yet</em>.</p>


        
    </div>
    <div class="afterArticle">
        <a href="/blog/2012/02/xvim-v02/" class="more-link">继续阅读</a>
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/xvim/'>xVim</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2012/02/blogging-with-octopress/">开始用Octopress写Blog</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2012/02/blogging-with-octopress/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2012-02-20T23:45:00+08:00" pubdate data-updated="true">12年02月20日</time></div>
    </div>
    <div class="entry">
        <p>嗯, 貌似用<a href="http://octopress.org/">Octopress</a>的循例是将<strike>初夜</strike>(初篇)献给八爪君的各种触手.
那么我也来写写好了.</p>

<p>很多宅与Hacker都已经<strike>吐槽</strike>(解释)过如何打造自己的触手系博客了. 所以就再也没有必要在这个方面啰嗦啦, 还是说说日常的blog方面吧&#8230;</p>


        
    </div>
    <div class="afterArticle">
        <a href="/blog/2012/02/blogging-with-octopress/" class="more-link">继续阅读</a>
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/octopress/'>octopress</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2011/12/xvim-0-12/">xVim v0.12</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2011/12/xvim-0-12/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2011-12-24T13:50:00+08:00" pubdate data-updated="true">11年12月24日</time></div>
    </div>
    <div class="entry">
        <p>So <a href="https://github.com/WarWithinMe/xVim">xVim</a> has updated to 0.12.</p>

<p>Fixed some bugs
Added a little more key binding like (ctrl+u and ctrl+d).
Added a simplified key-mapping feature, so that you can type &#8216;jk&#8217; or other stuff in insert mode to switch back to normal mode.
some motions, % and visual mode are still not implemented.</p>

<p>BTW, xVim is a SIMBL plugin to add vim like key-binding to Xcode and other application that uses NSTextView.</p>

<p>Check it out in <a href="https://github.com/WarWithinMe/xVim">github repo</a></p>

<p>Currently supported are Xcode, espresso and chocalat.</p>

<p>(TextMate does not use NSTextView, so if someone wants to use vim in TextMate, they should use Vico app.)</p>

        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/xvim/'>xVim</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2011/04/ms-never-make-good-things/">M$的东西怎么这么让人不敢恭维啊。。</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2011/04/ms-never-make-good-things/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2011-04-28T13:50:00+08:00" pubdate data-updated="true">11年04月28日</time></div>
    </div>
    <div class="entry">
        <p>就拿图形来说。现在M$就有三套图形的API:</p>

<h4>GDI</h4>

<p>倒胃口的是: <code>C API</code>和<code>不支持Alpha</code>
唯一就是<strong>硬件加速</strong>。同时搭配上GDI++(这玩意可不是M$自己出的, 阿鲁)，可以达到Mac的字体渲染效果。</p>

<h4>GDI+</h4>

<p><code>C++ API</code>，<strong>不支持硬件加速</strong>。使用方便，可以图像处理，效率却不高。</p>

<h4>Direct2D</h4>

<p>第三个<strong>Direct2D</strong>(DirectDraw悲催要到墙角画圈圈了&#8230;)，看上去很优秀的:</p>

<ul>
<li>轻便的COM接口，比较易用。</li>
<li>硬件加速的哦, 亲。。</li>
</ul>


<p>可惜硬件加速的是绘图，不是图像处理。。图像处理方面的能力基本上为0。这个是不是因为GPU只懂得vertex之类的东西，而不懂像素的关系呢？
D2D本身没有支持让你直接操作像素数据的API，例如你只是想修改一个像素的值，noway。。当然也不是绝对的，你可以通过WIC来获取那些像素，但是仅仅限于软件渲染的RenderTarget。如果一个RenderTarget是硬件加速的，你就没有办法用WIC来获取这个RenderTarget上面的数据了。</p>

        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/m-/'>M$</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2011/03/readin-why-is-chinese-web-design/">在看Why Is Chinese Web Design So Bad</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2011/03/readin-why-is-chinese-web-design/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2011-03-02T13:50:00+08:00" pubdate data-updated="true">11年03月02日</time></div>
    </div>
    <div class="entry">
        <p>刚才看到一篇文章<a href="http://thinkvitamin.com/design/why-is-chinese-web-design-so-bad/">Why Is Chinese Web Design So Bad</a>。文章是一个叫Nick Johnson的人在吐槽中国网站设计得<strong>so bad</strong>。
我没仔细看原文这种事情, 我会告诉你么。有看头的其实是那篇文章后面那堆评论。</p>

<p>就算很多人点了<em>like</em>，我也只能说，lovebk的评论超反感啊！看得出愤青的他已经恼羞成怒，结果就语无伦次喷了人家一面。虽然Nick是绝对不会知道他在说啥，因为我也不清楚那个comment的主旨啊。但是，喂，lovebk，你的节操掉了一地，麻烦扫一扫好么。。。Anyway， 正如lovebk所言，Nick确实挺片面的，但是我觉得整篇文章的目的在于探讨那种中国风的设计风格，而不是在谩骂中国的设计师如何的低质。</p>

<p>Nick Johnson说中国的网站设计不好，是说这些网站喜欢整合一切可能的数据在网页上，趋于繁杂。而西方则流行简洁优雅的风格。
但Nick不晓得与资本主义国家不同的是，在中国，这些展现出来的东西，并不都是设计师的思想。它们更多出自于其他领域的人的想法，这些人可以对设计一窍不通，但是最终的产品却都是他们把关，设计师只是在&#8221;工作&#8221;而已。所以说中国这些“丑陋的”网站其实无所谓设计不设计，只要它们成功迎合了中国网民的需求，或者中国网民愿意接受它们的“丑陋的一面”，之后这个网站赚到钱了，成功了。要知道，他们是商人，他们不是设计师，跟他们说你们设计师崇尚的设计观念是行不通的。</p>

<p>设计优雅的中国网站不是没有，但是你未必看得到。能跟从设计师的理念诞生的网站，它本身属于这个设计师。而在中国，很多设计师都没有影响力。因为他们没钱没权力，这个网站没影响力。所以Nick问他周围的人，也只能问出诸如百度，新浪这种网站。</p>

        
    </div>
    <div class="afterArticle">
        
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/general/'>General</a>
  
</div>


    </div>

</article>
    
    
    <article class="post">
    <h1 class="title"><a href="/blog/2010/10/qt-msvc-encoding/">Qt与MSVC的中文问题</a></h1>
    <div class="meta">
        <div class="seperator"></div>
        
        <a class="comments" href="/blog/2010/10/qt-msvc-encoding/#disqus_thread">0</a>
        
        <div class="date">








  


<time datetime="2010-10-02T15:50:00+08:00" pubdate data-updated="true">10年10月02日</time></div>
    </div>
    <div class="entry">
        <p>因为之前发布了GCC编译的TwitWar，结果在有些人的xp系统下面出现Runtime Error。主要是调用插件，而这个插件又调用了其他的dll文件。。。然后一直解决不了，最后还是决定用MSVC2008编译。。还好最后结果还不错。。(但是有个同学说他没能加载插件，真悲催。。。)</p>

<p>如果用MSVC2008编译的话，源代码的编码格式是绝对不可以是<strong>UTF-8 without BOM</strong>的。因为该死的MSVC只认<strong>UTF-8 without BOM</strong>。。。如果你保存的编码格式是<strong>UTF-8 with BOM</strong>，那么你用Qt的时候，十有八九会乱码。。</p>

<p>目前我觉得最稳妥的方法是：</p>


        
    </div>
    <div class="afterArticle">
        <a href="/blog/2010/10/qt-msvc-encoding/" class="more-link">继续阅读</a>
        

<div class="cat">
  
    <a class='category' href='/blog/blog/categories/qt/'>Qt</a>
  
</div>


    </div>

</article>
    



    <footer><div>Footer就该写些乱起八糟的事情嘛&#8230;<br />宅星人No.WWM表示暂时没啥好写&#8230;<br />CopyRight什么的就随便啦&#8230;<br /></div></footer>
</div>
</div>

<aside class="sidebar">

<div class="logo">WarWithinMe<div class="woodHighlight"></div></div><div id="backToTop" class="hidden"></div>
<section>
  <h1>About WWM</h1>
  <p>WWM是个宅星人, 对2次元各种喜欢. 更多关于我的事情请到<a href='http://warwithinme.com' class='icn_user'>My Portfolio.</a></p>
</section>
<section>
    <h1>次元通道(误)</h1>
    <ul class="main">
	<li><a href="/blog/" class="icn_heart">Blog</a></li>
	<li><a href="/blog/blog/archives" class="icn_plane">Archives</a></li>
    <li><a href="http://feeds.feedburner.com/WarWithinMe" class="icn_rss">RSS</a></li>
</ul>

</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/04/sucky-html5-dnd-api/">HTML5的DND API好恶心哦</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/after-read-mission-transition/">After Reading Misstion Transition</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/sanada/">大叔卖萌是犯规哟</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/javascript-image/">JS检测Image的加载</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/xvim-v02/">xVim v0.2 is out</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>文章分类</h1>
    <ul id="category-list"><li><a class='li_cat' href='/blog/blog/categories/general'>General</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/html5'>Html5</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/js'>Js</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/m$'>M$</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/octopress'>Octopress</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/qt'>Qt</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/ux'>Ux</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/web'>Web</a><span class='count'>1</span></li><li><a class='li_cat' href='/blog/blog/categories/xvim'>Xvim</a><span class='count'>2</span></li><li><a class='li_cat' href='/blog/blog/categories/二次元'>二次元</a><span class='count'>1</span></li></ul>
</section>


</aside>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/blog/javascripts/jquery_1.7.1.js"><\/script>')</script>
<script src="/blog/javascripts/undefined.min.js" type="text/javascript" charset="utf-8" async defer></script>


<script type="text/javascript">
      var disqus_shortname = 'warwithinme';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>
</html>
